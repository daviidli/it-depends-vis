{"version":3,"sources":["components/Dropdown/Dropdown.tsx","components/Header/CommitDropdown.tsx","components/Modal/HelpModalContext.tsx","AppContext.ts","components/Header/Header.tsx","data/GranularityEnum.ts","components/Modal/HelpModal.tsx","components/Footer/Footer.tsx","components/Visualization/Visualization.tsx","data/GraphData.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Dropdown","props","selectedValue","label","disabled","setSelectedValue","values","className","useState","labelWidth","setLabelWidth","inputLabel","useRef","useEffect","current","offsetWidth","FormControl","variant","clsx","InputLabel","ref","id","margin","Select","value","onChange","e","target","labelId","map","val","i","MenuItem","key","CommitDropdown","commitsShown","selectedCommit","showCommitsAfter","setSelectedCommit","commits","indexOfStart","indexOf","slice","length","HelpModalContext","React","createContext","HelpModalContextProvider","open","setOpen","Provider","children","SettingsContext","DataContext","Granularity","Header","repo","setRepo","useContext","settings","setSettings","data","saveRepo","prev","repository","Grid","container","spacing","justify","item","xs","IconButton","aria-label","onClick","sm","md","TextField","type","fullWidth","onKeyDown","Button","color","startCommit","commit","endCommit","HelpModal","modalPosition","top","window","innerHeight","left","innerWidth","width","Modal","aria-labelledby","onClose","style","Footer","setData","types","Object","isWide","wide","granularity","Slider","percentageLow","percentageHigh","range","valueLabelDisplay","getAriaValueText","Visualization","graphData","nodes","edges","persistedNodes","persistedEdges","link","persistedLink","node","percentages","simulation","g","getNodes","state","mounted","nextProps","this","restart","setState","startD3Graph","height","svg","d3","attr","zoomContainer","append","call","extent","scaleExtent","on","transform","selectAll","enter","force","strength","distance","alphaTarget","tick","bind","x","y","calculateCurvedPath","calculateArrowOffset","filteredEdges","filter","isWithinRange","filteredPersistedEdges","name","exit","remove","onMouseOver","onMouseOut","getRadius","drag","merge","getEdgeId","getEdgeWeight","edge","text","weight","links","alpha","select","getEdgesFrom","index","edgesFromNode","push","splice","active","fx","fy","dx","source","dy","dr","Math","sqrt","pathLength","getTotalLength","markerLength","markerSize","pow","radius","size","m","getPointAtLength","Component","GraphData","response","parseNodes","names","parseEdges","sizes","Error","cleanName","j","round","replace","App","FILES","setGraphData","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5b749fb6.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport clsx from 'clsx';\r\n\r\nimport './Dropdown.scss';\r\n\r\nexport interface DropdownProps<T> {\r\n\tselectedValue: T,\r\n\tlabel: string,\r\n\tdisabled: boolean,\r\n\tsetSelectedValue: Function,\r\n\tvalues: Array<T>,\r\n\tclassName?: string\r\n};\r\n\r\nconst Dropdown = (props: DropdownProps<string>) => {\r\n\tconst { selectedValue, label, disabled, setSelectedValue, values, className } = props;\r\n\r\n\tconst [labelWidth, setLabelWidth] = useState(0);\r\n\tconst inputLabel = useRef<HTMLLabelElement>(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLabelWidth(inputLabel.current!.offsetWidth);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<FormControl variant='outlined' className={clsx('dropdown', className)} disabled={disabled}>\r\n\t\t\t<InputLabel ref={inputLabel} id={label} className='label' margin='dense'>\r\n\t\t\t\t{ label }\r\n\t\t\t</InputLabel>\r\n\t\t\t<Select\r\n\t\t\t\tclassName='select'\r\n\t\t\t\tvalue={selectedValue}\r\n\t\t\t\tonChange={(e) => setSelectedValue(e.target.value)}\r\n\t\t\t\tmargin='dense'\r\n\t\t\t\tlabelId={label}\r\n\t\t\t\tlabelWidth={labelWidth}\r\n\t\t\t>\r\n\t\t\t\t{ values.map((val, i) => (<MenuItem key={val + i} value={val}>{ val }</MenuItem>)) }\r\n\t\t\t</Select>\r\n\t\t</FormControl>\r\n\t);\r\n}\r\n\r\nexport default Dropdown;\r\n","import React from 'react';\nimport Dropdown from '../Dropdown/Dropdown';\n\nexport interface CommitDropdownProps {\n\tlabel: string,\n\tselectedCommit: string,\n\tshowCommitsAfter: string,\n\tsetSelectedCommit: Function,\n\tcommits: Array<string>,\n};\n\nconst CommitDropdown = (props: CommitDropdownProps) => {\n\tconst { label, selectedCommit, showCommitsAfter, setSelectedCommit, commits } = props;\n\n\tlet commitsShown: Array<string>;\n\tconst indexOfStart: number = commits.indexOf(showCommitsAfter);\n\tif (indexOfStart < 0) {\n\t\tcommitsShown = commits;\n\t} else {\n\t\tcommitsShown = commits.slice(indexOfStart + 1, commits.length);\n\t}\n\n\treturn (\n\t\t<Dropdown\n\t\t\tselectedValue={selectedCommit}\n\t\t\tlabel={label}\n\t\t\tdisabled={!commitsShown.length}\n\t\t\tsetSelectedValue={setSelectedCommit}\n\t\t\tvalues={commitsShown}\n\t\t/>\n\t);\n}\n\nexport default CommitDropdown;\n","import React, { useState } from 'react';\n\nexport const HelpModalContext = React.createContext([] as any[]);\n\nconst HelpModalContextProvider = (props: any) => {\n\tconst [open, setOpen] = useState(false);\n\n\treturn (\n\t\t<HelpModalContext.Provider value={[open, setOpen]}>\n\t\t\t{ props.children }\n\t\t</HelpModalContext.Provider>\n\t)\n}\n\nexport default HelpModalContextProvider;\n","import React from 'react';\r\n\r\nexport const SettingsContext = React.createContext<any>(null);\r\nexport const DataContext = React.createContext<any>({});","import React, { useState, useContext } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport CommitDropdown from './CommitDropdown';\nimport { HelpModalContext } from '../Modal/HelpModalContext';\nimport { ISettings } from '../../App';\nimport { SettingsContext, DataContext } from '../../AppContext';\n\nimport './Header.scss';\n\nconst Header = () => {\n\tconst [repo, setRepo] = useState('');\n\tconst setOpen: Function = useContext(HelpModalContext)[1];\n\tconst [settings, setSettings] = useContext(SettingsContext);\n\tconst [data] = useContext(DataContext);\n\n\tconst saveRepo = () => {\n\t\tsetSettings((prev: ISettings) => ({...prev, repository: repo}));\n\t};\n\n\tconst handleKeyDown = (e: any) => {\n\t\tif (e.key === 'Enter') {\n\t\t\tsaveRepo();\n\t\t}\n\t};\n\n\tconst setStartCommit = (commit: string) => {\n\t\tsetSettings((prev: ISettings) => ({...prev, startCommit: commit}));\n\t};\n\n\tconst setEndCommit = (commit: string) => {\n\t\tsetSettings((prev: ISettings) => ({...prev, endCommit: commit}));\n\t};\n\n\tconst showHelp = () => {\n\t\tsetOpen(true);\n\t};\n\n\treturn (\n\t\t<div className='headerContainer'>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tclassName='repoContainer'\n\t\t\t\tspacing={1}\n\t\t\t\tjustify='space-evenly'\n\t\t\t>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<span className='heading'>IT DEPENDS</span>\n\t\t\t\t\t<IconButton className='help' aria-label='help' onClick={showHelp}>\n\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={10} sm={11} md={4}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel='Repository'\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tvalue={repo}\n\t\t\t\t\t\tonChange={(e) => setRepo(e.target.value)}\n\t\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2} sm={1} md={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid='repoSend'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => saveRepo()}\n\t\t\t\t\t>\n\t\t\t\t\t\t>\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={3}></Grid>\n\t\t\t\t<Grid item xs={6} sm={6} md={2}>\n\t\t\t\t\t<CommitDropdown\n\t\t\t\t\t\tlabel='Start Commit'\n\t\t\t\t\t\tselectedCommit={settings.startCommit}\n\t\t\t\t\t\tshowCommitsAfter={''}\n\t\t\t\t\t\tsetSelectedCommit={setStartCommit}\n\t\t\t\t\t\tcommits={data.commits}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} sm={6} md={2}>\n\t\t\t\t\t<CommitDropdown\n\t\t\t\t\t\tlabel='End Commit'\n\t\t\t\t\t\tselectedCommit={settings.endCommit}\n\t\t\t\t\t\tshowCommitsAfter={settings.startCommit}\n\t\t\t\t\t\tsetSelectedCommit={setEndCommit}\n\t\t\t\t\t\tcommits={data.commits}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nexport default Header;","export enum Granularity {\r\n\tFILES = 'Files',\r\n\tCLASSES = 'Classes',\r\n\tFUNCTIONS = 'Functions'\r\n};","import React, { useContext } from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport { HelpModalContext } from './HelpModalContext';\nimport Button from '@material-ui/core/Button';\n\nimport './HelpModal.scss';\n\nconst HelpModal = () => {\n\tconst [open, setOpen] = useContext(HelpModalContext);\n\n\tconst modalPosition = {\n\t\ttop: window.innerHeight / 2,\n\t\tleft: window.innerWidth / 2,\n\t\twidth: window.innerWidth > 550 ? 480 : '85%',\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\taria-labelledby='help'\n\t\t\topen={open}\n\t\t\tonClose={() => setOpen(false)}\n\t\t>\n\t\t\t<div className='helpModal' style={modalPosition}>\n\t\t\t\t<span className='helpHeader'>Help</span>\n\t\t\t\t<div className='helpDescription'>\n\t\t\t\t\tThis tool enables developers to more easily visualize dependencies between entities in a software system (classes, files, etc...)\n\t\t\t\t\twhich cut across commit history.\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName='closeButton'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tcolor='secondary'\n\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t>\n\t\t\t\t\tClose\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default HelpModal;","import React, { useContext } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport Dropdown from '../Dropdown/Dropdown';\nimport clsx from 'clsx';\nimport { ISettings, IData } from '../../App';\nimport { SettingsContext, DataContext } from '../../AppContext';\nimport { Granularity } from '../../data/GranularityEnum';\n\nimport './Footer.scss';\n\nconst Footer = () => {\n\tconst [settings, setSettings] = useContext(SettingsContext);\n\tconst [data, setData] = useContext(DataContext);\n\n\tconst setType = (type: string) => {\n\t\tsetSettings((prev: ISettings) => ({...prev, granularity: type}));\n\t}\n\n\tconst setSlider = (e: any, val: number | number[]) => {\n\t\tconst range = val as number[];\n\t\tsetData((prev: IData) => ({...prev, percentageLow: range[0], percentageHigh: range[1]}));\n\t}\n\n\tconst types: string[] = Object.values(Granularity);\n\tconst isWide: boolean = window.innerWidth > 550;\n\n\treturn (\n\t\t<Grid \n\t\t\tclassName='footer'\n\t\t\tcontainer\n\t\t\tspacing={0}\n\t\t\tjustify='space-between'\n\t\t>\n\t\t\t<Grid item xs={12} sm={5}>\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName={clsx({ wide: isWide })}\n\t\t\t\t\tselectedValue={settings.granularity}\n\t\t\t\t\tlabel='Granularity'\n\t\t\t\t\tdisabled={false}\n\t\t\t\t\tsetSelectedValue={setType}\n\t\t\t\t\tvalues={types}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={1}></Grid>\n\t\t\t<Grid item xs={12} sm={3} className='sliderContainer'>\n\t\t\t\t<div className='sliderLabel'>Percentage Range</div>\n\t\t\t\t<Slider\n\t\t\t\t\tclassName={clsx('slider', { wide: isWide })}\n\t\t\t\t\tvalue={[data.percentageLow, data.percentageHigh]}\n\t\t\t\t\tonChange={setSlider}\n\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\taria-labelledby='range-slider'\n\t\t\t\t\tgetAriaValueText={() => data.percentageLow + '-' + data.percentageHigh}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n};\n\nexport default Footer;","import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport GraphData, { INode, IEdge } from '../../data/GraphData';\r\n\r\ninterface VisualizationProps {\r\n\tpercentageLow: number,\r\n\tpercentageHigh: number,\r\n\tgraphData: GraphData\r\n};\r\n\r\ninterface VisualizationState {\r\n\tmounted: boolean\r\n};\r\n\r\nclass Visualization extends React.Component<VisualizationProps, VisualizationState> {\r\n\tprivate id: string;\r\n\tprivate graphData: GraphData;\r\n\tprivate nodes: INode[] = [];\r\n\tprivate edges: IEdge[] = [];\r\n\tprivate persistedNodes: INode[] = [];\r\n\tprivate persistedEdges: IEdge[] = [];\r\n\r\n\tprivate link: any;\r\n\tprivate persistedLink: any;\r\n\tprivate node: any;\r\n\tprivate label: any;\r\n\tprivate percentages: any;\r\n\tprivate simulation: any;\r\n\tprivate g: any;\r\n\r\n\tconstructor(props: any) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.id = 'visualization';\r\n\t\tthis.graphData = this.props.graphData;\r\n\t\tthis.nodes = this.graphData.getNodes();\r\n\t\tthis.state = {\r\n\t\t\tmounted: false\r\n\t\t};\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps: VisualizationProps) {\r\n\t\tif (nextProps.graphData !== this.props.graphData) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tif (this.state.mounted) {\r\n\t\t\t\tthis.restart();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidUpdate() {\r\n\t\tthis.graphData = this.props.graphData;\r\n\t\tthis.nodes = this.graphData.getNodes();\r\n\t\tthis.edges = [];\r\n\t\tthis.persistedEdges = [];\r\n\r\n\t\tif (this.state.mounted) {\r\n\t\t\tthis.restart();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ mounted: true });\r\n\t\tthis.startD3Graph();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.mounted) {\r\n\t\t\tthis.restart();\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<svg id={this.id}></svg>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate startD3Graph() {\r\n\t\tconst width = window.innerWidth;\r\n\t\tconst height = window.innerHeight;\t\r\n\t\r\n\t\tconst svg = d3.select('#' + this.id)\r\n\t\t\t.attr('width', width)\r\n\t\t\t.attr('height', height);\r\n\t\t\r\n\t\tconst zoomContainer = svg.append('g');\r\n\t\t\r\n\t\tsvg.call(d3.zoom()\r\n\t\t\t.extent([[0, 0], [width, height]])\r\n\t\t\t.scaleExtent([0.25, 4])\r\n\t\t\t.on('zoom', () => {\r\n\t\t\t\tzoomContainer.attr('transform', d3.event.transform);\r\n\t\t\t}) as any);\r\n\r\n\t\tthis.g = zoomContainer.append('g')\r\n\t\t\t.attr('transform', 'translate(' + width / 2 + ',' + height * 0.4 + ')');\r\n\r\n\t\tthis.link = this.g.append('g')\r\n\t\t\t.attr('stroke', '#000')\r\n\t\t\t.attr('stroke-width', 1)\r\n\t\t\t.selectAll('.link');\r\n\r\n\t\tthis.persistedLink = this.g.append('g')\r\n\t\t\t.attr('stroke', '#000')\r\n\t\t\t.attr('stroke-width', 1)\r\n\t\t\t.selectAll('.pLink');\r\n\r\n\t\tthis.node = this.g.append('g')\r\n\t\t\t.attr('stroke', '#000')\r\n\t\t\t.attr('stroke-width', 4)\r\n\t\t\t.selectAll('.node');\r\n\r\n\t\tthis.percentages = this.g.append('text')\r\n\t\t\t.attr('dy', -5)\r\n\t\t\t.selectAll('.percentages');\r\n\r\n\t\tthis.label = this.g.append('g')\r\n\t\t\t.selectAll('.label');\r\n\r\n\t\tthis.g.append('defs').selectAll('marker')\r\n\t\t\t.data(['#000', '#e74c3c'])\r\n\t\t\t.enter().append('marker')\r\n\t\t\t\t.attr('id', (type: string) => type)\r\n\t\t\t\t.attr('viewBox', '0 -5 10 10')\r\n\t\t\t\t.attr('refX', 0)\r\n\t\t\t\t.attr('refY', 0)\r\n\t\t\t\t.attr('markerWidth', 4)\r\n\t\t\t\t.attr('markerHeight', 4)\r\n\t\t\t\t.attr('orient', 'auto')\r\n\t\t\t.append('path')\r\n\t\t\t\t.attr('d', 'M0,-5L10,0L0,5')\r\n\t\t\t\t.attr('fill', (type: string) => type)\r\n\r\n\t\tthis.simulation = d3.forceSimulation(this.nodes)\r\n\t\t\t.force('charge', d3.forceManyBody().strength(-1000))\r\n\t\t\t.force('link', d3.forceLink(this.persistedEdges).distance(400).strength(0.05))\r\n\t\t\t.force('x', d3.forceX().strength(0.1))\r\n\t\t\t.force('y', d3.forceY().strength(0.1))\r\n\t\t\t.alphaTarget(1)\r\n\t\t\t.on('tick', this.tick.bind(this));\r\n\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate tick() {\r\n\t\tthis.node\r\n\t\t\t.attr('cx', (node: INode) => node.x)\r\n\t\t\t.attr('cy', (node: INode) => node.y);\r\n\t\tthis.link\r\n\t\t\t.attr('d', this.calculateCurvedPath)\r\n\t\t\t.attr('d', this.calculateArrowOffset);\r\n\t\tthis.persistedLink\r\n\t\t\t.attr('d', this.calculateCurvedPath)\r\n\t\t\t.attr('d', this.calculateArrowOffset);\r\n\t\tthis.label\r\n\t\t\t.attr('transform', (node: INode) => 'translate(' + node.x + ',' + node.y + ')');\r\n\t}\r\n\r\n\tprivate restart() {\r\n\t\tconst filteredEdges = this.edges.filter(this.isWithinRange.bind(this));\r\n\t\tconst filteredPersistedEdges = this.persistedEdges.filter(this.isWithinRange.bind(this));\r\n\r\n\t\tthis.node = this.node.data(this.nodes, (node: INode) => node.name);\r\n\t\tthis.node.exit().remove();\r\n\t\tthis.node = this.node.enter().append('circle')\r\n\t\t\t.on('mouseover', this.onMouseOver.bind(this))\r\n\t\t\t.on('mouseout', this.onMouseOut.bind(this))\r\n\t\t\t.on('click', this.onClick.bind(this))\r\n\t\t\t.attr('id', (node: INode) => node.id)\r\n\t\t\t.attr('r', this.getRadius)\r\n\t\t\t.attr('fill', '#2c3e50')\r\n\t\t\t.call(this.drag(this.simulation))\r\n\t\t\t.merge(this.node);\r\n\t\t\r\n\t\tthis.link = this.link\r\n\t\t\t.data(filteredEdges, this.getEdgeId);\r\n\t\tthis.link.exit().remove();\r\n\t\tthis.link = this.link.enter().append('path')\r\n\t\t\t.attr('stroke', '#e74c3c')\r\n\t\t\t.attr('stroke-width', this.getEdgeWeight)\r\n\t\t\t.attr('fill', 'none')\r\n\t\t\t.attr('id', this.getEdgeId)\r\n\t\t\t.attr('marker-end', () => 'url(##e74c3c)')\r\n\t\t\t.merge(this.link);\r\n\r\n\t\tthis.persistedLink = this.persistedLink\r\n\t\t\t.data(filteredPersistedEdges, this.getEdgeId);\r\n\t\tthis.persistedLink.exit().remove();\r\n\t\tthis.persistedLink = this.persistedLink.enter().append('path')\r\n\t\t\t.attr('stroke', '#000')\r\n\t\t\t.attr('stroke-width', this.getEdgeWeight)\r\n\t\t\t.attr('fill', 'none')\r\n\t\t\t.attr('id', this.getEdgeId)\r\n\t\t\t.attr('marker-end', () => 'url(##000)')\r\n\t\t\t.merge(this.persistedLink);\r\n\r\n\t\tthis.percentages = this.percentages\r\n\t\t\t.data([...filteredEdges, ...filteredPersistedEdges], this.getEdgeId);\r\n\t\tthis.percentages.exit().remove();\r\n\t\tthis.percentages = this.percentages.enter().append('textPath')\r\n\t\t\t.attr('xlink:href', (edge: IEdge) => '#' + this.getEdgeId(edge))\r\n\t\t\t.attr('startOffset', '50%')\r\n\t\t\t.text((edge: IEdge) => edge.weight * 100 + '%')\r\n\t\t\t.merge(this.percentages);\r\n\r\n\t\tthis.label = this.label.data(this.nodes, (node: INode) => node.id);\r\n\t\tthis.label.exit().remove();\r\n\t\tthis.label = this.label.enter().append('text')\r\n\t\t\t.attr('x', (node: INode) => -1 * node.name.length / 4 + 1 + 'em')\r\n\t\t\t.attr('y', (node: INode) => this.getRadius(node) + 20)\r\n\t\t\t.text((node: INode) => node.name)\r\n\t\t\t.merge(this.label);\r\n\r\n\t\tthis.simulation.nodes(this.nodes);\r\n\t\tthis.simulation.force('link').links(filteredPersistedEdges);\r\n\t\tthis.simulation.alpha(1).restart();\r\n\t}\r\n\r\n\tprivate onMouseOver(node: INode) {\r\n\t\tthis.g.select('#' + node.id).attr('stroke', '#aaa').attr('stroke-width', 4);\r\n\t\tthis.edges = this.graphData.getEdgesFrom(node);\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate onMouseOut(node: INode) {\r\n\t\tthis.g.select('#' + node.id).attr('stroke', null).attr('stroke-width', null);\r\n\t\tthis.edges = [];\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate onClick(node: INode) {\r\n\t\tconst index = this.persistedNodes.indexOf(node);\r\n\t\tconst edgesFromNode = this.graphData.getEdgesFrom(node);\r\n\t\tif (index < 0) {\r\n\t\t\tthis.persistedNodes.push(node);\r\n\t\t\tthis.persistedEdges.push(...edgesFromNode);\r\n\t\t} else {\r\n\t\t\tthis.persistedNodes.splice(index, 1);\r\n\t\t\tthis.persistedEdges = this.persistedEdges.filter((edge) => edgesFromNode.indexOf(edge) < 0);\r\n\t\t}\r\n\t\t\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate drag(simulation: any): any {\r\n\t\tconst onDragStart = (node: any) => {\r\n\t\t\tif (!d3.event.active) {\r\n\t\t\t\tsimulation.alphaTarget(0.3).restart();\r\n\t\t\t}\r\n\t\t\tnode.fx = node.x;\r\n\t\t\tnode.fy = node.y;\r\n\t\t}\r\n\r\n\t\tconst onDrag = (node: any) => {\r\n\t\t\tnode.fx = d3.event.x;\r\n\t\t\tnode.fy = d3.event.y;\r\n\t\t}\r\n\r\n\t\tconst onDragEnd = (node: any) => {\r\n\t\t\tif (!d3.event.active) simulation.alphaTarget(0);\r\n\t\t\tnode.fx = null;\r\n\t\t\tnode.fy = null;\r\n\t\t}\r\n\r\n\t\treturn d3.drag()\r\n\t\t\t.on('start', onDragStart)\r\n\t\t\t.on('drag', onDrag)\r\n\t\t\t.on('end', onDragEnd);\r\n\t};\r\n\r\n\tprivate calculateCurvedPath(edge: IEdge): string {\r\n\t\tconst dx = edge.target.x - edge.source.x;\r\n\t\tconst dy = edge.target.y - edge.source.y;\r\n\t\tconst dr = Math.sqrt(dx * dx + dy * dy);\r\n\t\treturn 'M' + edge.source.x + ',' + edge.source.y + 'A' + dr + ',' + dr + ' 0 0,1 ' + edge.target.x + ',' + edge.target.y;\r\n\t}\r\n\r\n\tprivate calculateArrowOffset(this: any, edge: IEdge): string {\r\n\t\tconst pathLength = this.getTotalLength();\r\n\t\tconst markerLength = 4 * Math.sqrt(edge.weight * 10);\r\n\t\tconst markerSize = Math.sqrt(Math.pow(markerLength, 2) * 2);\r\n\t\tconst radius = (edge.target.size * 10) + markerSize;\r\n\r\n\t\tconst m = this.getPointAtLength(pathLength - radius);\r\n\t\tconst dx = m.x - edge.source.x;\r\n\t\tconst dy = m.y - edge.source.y;\r\n\t\tconst dr = Math.sqrt(dx * dx + dy * dy);\r\n\r\n\t\treturn 'M' + edge.source.x + ',' + edge.source.y + 'A' + dr + ',' + dr + ' 0 0,1 ' + m.x + ',' + m.y;\r\n\t}\r\n\r\n\tprivate isWithinRange(edge: IEdge) {\r\n\t\treturn edge.weight >= this.props.percentageLow && edge.weight <= this.props.percentageHigh;\r\n\t}\r\n\r\n\tprivate getRadius(node: INode): number {\r\n\t\treturn node.size * 10;\r\n\t}\r\n\r\n\tprivate getEdgeId(edge: IEdge): string {\r\n\t\treturn edge.source.id + '-' + edge.target.id;\r\n\t}\r\n\r\n\tprivate getEdgeWeight(edge: IEdge): number {\r\n\t\treturn Math.pow(edge.weight, 1.5) * 6\r\n\t}\r\n};\r\n\r\nexport default Visualization;\r\n","import IResponse from \"./IResponse\";\r\nimport * as d3 from 'd3';\r\n\r\nexport interface IEdge extends d3.SimulationLinkDatum<INode> {\r\n\tsource: INode,\r\n\ttarget: INode,\r\n\tweight: number\r\n}\r\n\r\nexport interface INode extends d3.SimulationNodeDatum {\r\n\tname: string,\r\n\tid: string,\r\n\tsize: number,\r\n\tx: number,\r\n\ty: number\r\n}\r\n\r\nexport default class GraphData {\r\n\tprivate nodes: INode[];\r\n\tprivate edges: IEdge[];\r\n\tprivate data: number[][];\r\n\r\n\tconstructor(response: IResponse) {\r\n\t\tthis.data = response.data;\r\n\t\tthis.nodes = this.parseNodes(response.names, response.size);\r\n\t\tthis.edges = this.parseEdges(response.data);\r\n\t}\r\n\r\n\tpublic getNodes(): INode[] {\r\n\t\treturn this.nodes;\r\n\t}\r\n\r\n\tpublic getEdges(): IEdge[] {\r\n\t\treturn this.edges;\r\n\t}\r\n\r\n\tpublic getEdgesFrom(node: INode) {\r\n\t\treturn this.edges.filter((edge) => edge.source === node);\r\n\t}\r\n\r\n\tprivate parseNodes(names: string[], sizes: number[]): INode[] {\r\n\t\tconst nodes: INode[] = [];\r\n\r\n\t\tif (names.length !== sizes.length) {\r\n\t\t\tthrow new Error('bad response');\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < names.length; i++) {\r\n\t\t\tnodes.push({\r\n\t\t\t\tid: this.cleanName(names[i]),\r\n\t\t\t\tname: names[i],\r\n\t\t\t\tsize: sizes[i],\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn nodes;\r\n\t}\r\n\r\n\tprivate parseEdges(data: number[][]): IEdge[] {\r\n\t\tconst edges: IEdge[] = [];\r\n\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tfor (let j = 0; j < data[i].length; j++) {\r\n\t\t\t\tif (i === j || data[i][j] === 0) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tedges.push({\r\n\t\t\t\t\tsource: this.nodes[j],\r\n\t\t\t\t\ttarget: this.nodes[i],\r\n\t\t\t\t\tweight: Math.round(data[i][j] * 100) / 100\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn edges;\r\n\t}\r\n\r\n\tprivate cleanName(name: string): string {\r\n\t\treturn name.replace(' ', '').replace('(', '').replace(')', '');\r\n\t\t// TODO: make this more robust\r\n\t}\r\n}","import React, { useState, useEffect } from 'react';\nimport Header from './components/Header/Header';\nimport HelpModal from './components/Modal/HelpModal';\nimport HelpModalContextProvider from './components/Modal/HelpModalContext';\nimport Footer from './components/Footer/Footer';\nimport Visualization from './components/Visualization/Visualization';\nimport IResponse from './data/IResponse';\nimport { SettingsContext, DataContext } from './AppContext';\nimport GraphData from './data/GraphData';\nimport { Granularity } from './data/GranularityEnum';\n\nexport interface ISettings {\n\trepository: string,\n\tstartCommit: string,\n\tendCommit: string,\n\tgranularity: Granularity\n};\n\nexport interface IData {\n\tresponse: IResponse,\n\tpercentageLow: number,\n\tpercentageHigh: number,\n\tcommits: string[]\n};\n\nconst App = () => {\n\tconst [settings, setSettings] = useState<ISettings>({\n\t\trepository: '',\n\t\tstartCommit: '',\n\t\tendCommit: '',\n\t\tgranularity: Granularity.FILES\n\t});\n\n\tconst [data, setData] = useState<IData>({\n\t\tresponse: {\n\t\t\tnames: [],\n\t\t\tsize: [],\n\t\t\tdata: []\n\t\t},\n\t\tpercentageLow: 0,\n\t\tpercentageHigh: 100,\n\t\tcommits: []\n\t});\n\n\tconst [graphData, setGraphData] = useState<GraphData>(new GraphData({ names: [], size: [], data: [] }));\n\n\tuseEffect(() => {\n\t\tif (settings.repository.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\t// call backend\n\t\tconst response: IResponse = {\n\t\t\tnames: ['constructor (A)', 'main (A)', 'receiveInput (A)', 'constructor (B)', 'doSomething (B)', 'doSomethingElse (B)', 'constructor (C1)', 'foo (C1)', 'constructor (C2)', 'barbar (C2)'],\n\t\t\tsize: [1,1,6,2,4,1,1,2,1,1],\n\t\t\tdata: [\n\t\t\t\t[1,1,1,1,1,0,0,0,0,0],\n\t\t\t\t[1,1,1,1,1,0,0,0,0,0],\n\t\t\t\t[0.166666667,0.166666667,1,0.333333333,0.5,0.166666667,0.166666667,0.333333333,0.166666667,0],\n\t\t\t\t[0.5,0.5,1,1,0.5,0.5,0,0,0,0],\n\t\t\t\t[0.25,0.25,0.75,0.25,1,0,0,0.25,0,0],\n\t\t\t\t[0,0,1,1,0,1,0,0,0,0],\n\t\t\t\t[0,0,1,0,0,0,1,1,1,0],\n\t\t\t\t[0,0,1,0,0.5,0,0.5,1,0.5,0],\n\t\t\t\t[0,0,1,0,0,0,1,1,1,0],\n\t\t\t\t[0,0,0,0,0,0,0,0,0,1]\n\t\t\t]\n\t\t};\n\t\tconst commits: string[] = [\n\t\t\t'commit #1',\n\t\t\t'commit #2',\n\t\t\t'commit #3',\n\t\t\t'commit #4',\n\t\t\t'commit #5',\n\t\t\t'commit #6',\n\t\t\t'commit #7',\n\t\t\t'commit #8',\n\t\t\t'commit #9',\n\t\t\t'commit #10'\n\t\t];\n\t\tsetData((prev: IData) => ({...prev, response: response, commits: commits}));\n\t}, [settings, setData]);\n\n\tuseEffect(() => {\n\t\tsetGraphData(new GraphData(data.response));\n\t}, [data.response, setGraphData]);\n\n\treturn (\n\t\t<DataContext.Provider value={[data, setData]}>\n\t\t\t<SettingsContext.Provider value={[settings, setSettings]}>\n\t\t\t\t<HelpModalContextProvider>\n\t\t\t\t\t<HelpModal />\n\t\t\t\t\t<Header />\n\t\t\t\t</HelpModalContextProvider>\n\t\t\t\t<Visualization\n\t\t\t\t\tgraphData={graphData}\n\t\t\t\t\tpercentageLow={data.percentageLow / 100}\n\t\t\t\t\tpercentageHigh={data.percentageHigh / 100}\n\t\t\t\t/>\n\t\t\t\t<Footer />\n\t\t\t</SettingsContext.Provider>\n\t\t</DataContext.Provider>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}