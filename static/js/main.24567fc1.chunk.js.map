{"version":3,"sources":["components/Dropdown/Dropdown.tsx","components/Header/CommitDropdown.tsx","components/Modal/HelpModalContext.tsx","AppContext.ts","components/Header/Header.tsx","data/types/GranularityType.ts","data/types/GraphType.ts","components/Modal/HelpModal.tsx","components/Footer/Footer.tsx","data/types/DependencyType.ts","components/Visualization/Visualization.tsx","data/GraphData.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Dropdown","props","selectedValue","label","disabled","setSelectedValue","values","className","useState","labelWidth","setLabelWidth","inputLabel","useRef","useEffect","current","offsetWidth","FormControl","variant","clsx","InputLabel","ref","id","margin","color","Select","value","onChange","e","target","labelId","map","val","i","MenuItem","key","indexOfCommit","commits","commitName","length","CommitDropdown","commitsShown","selectedCommit","showCommitsAfter","setSelectedCommit","indexOfStart","commitsShownValues","slice","commit","HelpModalContext","React","createContext","HelpModalContextProvider","open","setOpen","Provider","children","SettingsContext","DataContext","Granularity","Graph","Header","repo","setRepo","useContext","settings","setSettings","data","saveRepo","prev","repository","Grid","container","spacing","justify","item","xs","IconButton","aria-label","onClick","sm","md","TextField","type","fullWidth","onKeyDown","Button","startCommit","endCommit","HelpModal","modalPosition","top","window","innerHeight","left","innerWidth","width","Modal","aria-labelledby","onClose","style","DependencyType","Footer","setData","granularityTypes","Object","graphTypes","isWide","direction","Slider","wide","percentageLow","percentageHigh","range","valueLabelDisplay","getAriaValueText","graph","DEPENDENCY","granularity","CROSSCUT","Visualization","graphData","nodes","edges","persistedNodes","persistedEdges","link","persistedLink","node","edgeLabels","simulation","g","colors","hover","persisted","nodeHover","nodeOutline","markers","name","path","viewBox","refX","refY","height","INHERITANCE","IMPLEMENTATION","ASSOCIATION","REFERENCES","CALLS","getNodes","state","mounted","nextProps","this","restart","setState","startD3Graph","svg","d3","attr","zoomContainer","append","call","extent","scaleExtent","on","transform","selectAll","marker","newMarker","create","enter","force","strength","distance","alphaTarget","tick","bind","x","y","calculateCurvedPath","calculateArrowOffset","filteredEdges","filter","isWithinRange","filteredPersistedEdges","restartLink","restartPersistedLinks","restartEdgeLabels","restartNode","restartLabels","links","alpha","exit","remove","onMouseOver","onMouseOut","getRadius","drag","merge","getEdgeId","getEdgeWeight","edge","text","Math","round","weight","select","getEdgesFrom","index","indexOf","edgesFromNode","push","splice","active","fx","fy","dx","source","dy","dr","sqrt","pathLength","getTotalLength","markerLength","markerSize","pow","radius","size","m","getPointAtLength","Component","GraphData","response","parseNodes","names","parseEdges","sizes","Error","cleanName","j","dataVal","depTypes","replace","RegExp","App","url","axios","defaults","headers","post","FILES","setGraphData","a","put","reverse","processedCommits","processCommit","console","log","getCommits","getGranularity","CLASSES","FUNCTIONS","startIndex","endIndex","get","responseData","startSha","sha","endSha","floor","random","getVisData","indexOfNL","message","substring","author","login","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.24567fc1.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport clsx from 'clsx';\r\n\r\nimport './Dropdown.scss';\r\n\r\nexport interface DropdownProps<T> {\r\n\tselectedValue: T,\r\n\tlabel: string,\r\n\tdisabled: boolean,\r\n\tsetSelectedValue: Function,\r\n\tvalues: Array<T>,\r\n\tclassName?: string\r\n};\r\n\r\nconst Dropdown = (props: DropdownProps<string>) => {\r\n\tconst { selectedValue, label, disabled, setSelectedValue, values, className } = props;\r\n\r\n\tconst [labelWidth, setLabelWidth] = useState(0);\r\n\tconst inputLabel = useRef<HTMLLabelElement>(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLabelWidth(inputLabel.current!.offsetWidth);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<FormControl variant='outlined' className={clsx('dropdown', className)} disabled={disabled}>\r\n\t\t\t<InputLabel ref={inputLabel} id={label} className='label' margin='dense' color='secondary'>\r\n\t\t\t\t{ label }\r\n\t\t\t</InputLabel>\r\n\t\t\t<Select\r\n\t\t\t\tclassName='select'\r\n\t\t\t\tvalue={selectedValue}\r\n\t\t\t\tonChange={(e) => setSelectedValue(e.target.value)}\r\n\t\t\t\tmargin='dense'\r\n\t\t\t\tlabelId={label}\r\n\t\t\t\tlabelWidth={labelWidth}\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t>\r\n\t\t\t\t{ values.map((val, i) => (<MenuItem key={val + i} value={val}>{ val }</MenuItem>)) }\r\n\t\t\t</Select>\r\n\t\t</FormControl>\r\n\t);\r\n}\r\n\r\nexport default Dropdown;\r\n","import React from 'react';\nimport Dropdown from '../Dropdown/Dropdown';\nimport { ICommit } from '../../App';\n\nexport interface CommitDropdownProps {\n\tlabel: string,\n\tselectedCommit: string,\n\tshowCommitsAfter: string,\n\tsetSelectedCommit: Function,\n\tcommits: ICommit[],\n};\n\nconst CommitDropdown = (props: CommitDropdownProps) => {\n\tconst { label, selectedCommit, showCommitsAfter, setSelectedCommit, commits } = props;\n\n\tlet commitsShown: ICommit[];\n\tconst indexOfStart: number = indexOfCommit(commits, showCommitsAfter);\n\tif (indexOfStart < 0) {\n\t\tcommitsShown = commits;\n\t} else {\n\t\tcommitsShown = commits.slice(indexOfStart + 1, commits.length);\n\t}\n\n\tconst commitsShownValues = commitsShown.map((commit: ICommit) => commit.value);\n\n\treturn (\n\t\t<Dropdown\n\t\t\tselectedValue={selectedCommit}\n\t\t\tlabel={label}\n\t\t\tdisabled={!commitsShown.length}\n\t\t\tsetSelectedValue={setSelectedCommit}\n\t\t\tvalues={commitsShownValues}\n\t\t/>\n\t);\n}\n\nexport const indexOfCommit = (commits: ICommit[], commitName: string) => {\n\tfor (let i = 0; i < commits.length; i++) {\n\t\tif (commits[i].value === commitName) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\n\nexport default CommitDropdown;\n","import React, { useState } from 'react';\n\nexport const HelpModalContext = React.createContext([] as any[]);\n\nconst HelpModalContextProvider = (props: any) => {\n\tconst [open, setOpen] = useState(false);\n\n\treturn (\n\t\t<HelpModalContext.Provider value={[open, setOpen]}>\n\t\t\t{ props.children }\n\t\t</HelpModalContext.Provider>\n\t)\n}\n\nexport default HelpModalContextProvider;\n","import React from 'react';\r\n\r\nexport const SettingsContext = React.createContext<any>(null);\r\nexport const DataContext = React.createContext<any>({});","import React, { useState, useContext } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport CommitDropdown from './CommitDropdown';\nimport { HelpModalContext } from '../Modal/HelpModalContext';\nimport { ISettings } from '../../App';\nimport { SettingsContext, DataContext } from '../../AppContext';\n\nimport './Header.scss';\n\nconst Header = () => {\n\tconst [repo, setRepo] = useState('');\n\tconst setOpen: Function = useContext(HelpModalContext)[1];\n\tconst [settings, setSettings] = useContext(SettingsContext);\n\tconst [data] = useContext(DataContext);\n\n\tconst saveRepo = () => {\n\t\tsetSettings((prev: ISettings) => ({...prev, repository: repo}));\n\t};\n\n\tconst handleKeyDown = (e: any) => {\n\t\tif (e.key === 'Enter') {\n\t\t\tsaveRepo();\n\t\t}\n\t};\n\n\tconst setStartCommit = (commit: string) => {\n\t\tsetSettings((prev: ISettings) => ({...prev, startCommit: commit}));\n\t};\n\n\tconst setEndCommit = (commit: string) => {\n\t\tsetSettings((prev: ISettings) => ({...prev, endCommit: commit}));\n\t};\n\n\tconst showHelp = () => {\n\t\tsetOpen(true);\n\t};\n\n\treturn (\n\t\t<div className='headerContainer'>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tclassName='repoContainer'\n\t\t\t\tspacing={1}\n\t\t\t\tjustify='space-evenly'\n\t\t\t>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<span className='heading'>IT DEPENDS</span>\n\t\t\t\t\t<IconButton className='help' aria-label='help' onClick={showHelp}>\n\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={10} sm={11} md={4}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel='Repository'\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tvalue={repo}\n\t\t\t\t\t\tonChange={(e) => setRepo(e.target.value)}\n\t\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2} sm={1} md={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid='repoSend'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => saveRepo()}\n\t\t\t\t\t>\n\t\t\t\t\t\t>\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={3}></Grid>\n\t\t\t\t<Grid item xs={6} sm={6} md={2}>\n\t\t\t\t\t<CommitDropdown\n\t\t\t\t\t\tlabel='Start Commit'\n\t\t\t\t\t\tselectedCommit={settings.startCommit}\n\t\t\t\t\t\tshowCommitsAfter={''}\n\t\t\t\t\t\tsetSelectedCommit={setStartCommit}\n\t\t\t\t\t\tcommits={data.commits}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} sm={6} md={2}>\n\t\t\t\t\t<CommitDropdown\n\t\t\t\t\t\tlabel='End Commit'\n\t\t\t\t\t\tselectedCommit={settings.endCommit}\n\t\t\t\t\t\tshowCommitsAfter={settings.startCommit}\n\t\t\t\t\t\tsetSelectedCommit={setEndCommit}\n\t\t\t\t\t\tcommits={data.commits}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nexport default Header;","export enum Granularity {\r\n\tFILES = 'Files',\r\n\tCLASSES = 'Classes',\r\n\tFUNCTIONS = 'Functions'\r\n};","export enum Graph {\r\n\tCROSSCUT = 'Cross-Cut',\r\n\tDEPENDENCY = 'Dependency'\r\n};","import React, { useContext } from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport { HelpModalContext } from './HelpModalContext';\nimport Button from '@material-ui/core/Button';\n\nimport './HelpModal.scss';\n\nconst HelpModal = () => {\n\tconst [open, setOpen] = useContext(HelpModalContext);\n\n\tconst modalPosition = {\n\t\ttop: window.innerHeight / 2,\n\t\tleft: window.innerWidth / 2,\n\t\twidth: window.innerWidth > 550 ? 480 : '85%',\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\taria-labelledby='help'\n\t\t\topen={open}\n\t\t\tonClose={() => setOpen(false)}\n\t\t>\n\t\t\t<div className='helpModal' style={modalPosition}>\n\t\t\t\t<span className='helpHeader'>Help</span>\n\t\t\t\t<div className='helpDescription'>\n\t\t\t\t\tThis tool enables developers to more easily visualize dependencies between entities in a software system (classes, files, etc...)\n\t\t\t\t\twhich cut across commit history.\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName='closeButton'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tcolor='secondary'\n\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t>\n\t\t\t\t\tClose\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default HelpModal;","import React, { useContext } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport Dropdown from '../Dropdown/Dropdown';\nimport clsx from 'clsx';\nimport { ISettings, IData } from '../../App';\nimport { SettingsContext, DataContext } from '../../AppContext';\nimport { Granularity } from '../../data/types/GranularityType';\nimport { Graph } from '../../data/types/GraphType';\n\nimport './Footer.scss';\n\nconst Footer = () => {\n\tconst [settings, setSettings] = useContext(SettingsContext);\n\tconst [data, setData] = useContext(DataContext);\n\n\tconst setGranularity = (type: string) => {\n\t\tsetSettings((prev: ISettings) => ({...prev, granularity: type}));\n\t}\n\n\tconst setGraph = (type: string) => {\n\t\tsetSettings((prev: ISettings) => ({...prev, graph: type}));\n\t}\n\n\tconst setSlider = (e: any, val: number | number[]) => {\n\t\tconst range = val as number[];\n\t\tsetData((prev: IData) => ({...prev, percentageLow: range[0], percentageHigh: range[1]}));\n\t}\n\n\tconst granularityTypes: string[] = Object.values(Granularity);\n\tconst graphTypes: string[] = Object.values(Graph);\n\tconst isWide: boolean = window.innerWidth > 550;\n\n\treturn (\n\t\t<Grid\n\t\t\tclassName='footer'\n\t\t\tcontainer\n\t\t\tspacing={0}\n\t\t\tjustify='space-between'\n\t\t\tdirection='row-reverse'\n\t\t>\n\t\t\t<Grid item xs={12} sm={3} className='sliderContainer'>\n\t\t\t\t<div className='sliderLabel'>Percentage Range</div>\n\t\t\t\t<Slider\n\t\t\t\t\tclassName={clsx('slider', { wide: isWide })}\n\t\t\t\t\tvalue={[data.percentageLow, data.percentageHigh]}\n\t\t\t\t\tonChange={setSlider}\n\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\taria-labelledby='range-slider'\n\t\t\t\t\tgetAriaValueText={() => data.percentageLow + '-' + data.percentageHigh}\n\t\t\t\t\tdisabled={settings.graph === Graph.DEPENDENCY}\n\t\t\t\t\tcolor='secondary'\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={6} sm={4}>\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName={clsx({ wide: isWide })}\n\t\t\t\t\tselectedValue={settings.graph}\n\t\t\t\t\tlabel='Type of Graph'\n\t\t\t\t\tdisabled={false}\n\t\t\t\t\tsetSelectedValue={setGraph}\n\t\t\t\t\tvalues={graphTypes}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={6} sm={4}>\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName={clsx({ wide: isWide })}\n\t\t\t\t\tselectedValue={settings.granularity}\n\t\t\t\t\tlabel='Granularity'\n\t\t\t\t\tdisabled={settings.graph === Graph.CROSSCUT}\n\t\t\t\t\tsetSelectedValue={setGranularity}\n\t\t\t\t\tvalues={granularityTypes}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n};\n\nexport default Footer;","export enum DependencyType {\r\n\tASSOCIATION = 'association',\r\n\tINHERITANCE = 'inheritance',\r\n\tIMPLEMENTATION = 'implementation',\r\n\tDEPENDENCY = 'dependency',\r\n\t// AGGREGATION = 'aggregation',\r\n\t// COMPOSITION = 'composition',\r\n\tREFERENCES = 'references',\r\n\tCALLS = 'calls'\r\n};","import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport GraphData, { INode, IEdge } from '../../data/GraphData';\r\nimport { Graph } from '../../data/types/GraphType';\r\nimport { DependencyType } from '../../data/types/DependencyType';\r\n\r\nimport './Visualization.scss';\r\n\r\ninterface IMarker {\r\n\tname: string,\r\n\tpath: string,\r\n\tviewBox: string,\r\n\trefX: number,\r\n\trefY: number,\r\n\twidth: number,\r\n\theight: number\r\n\tcolor?: string\r\n};\r\n\r\ninterface VisualizationProps {\r\n\tpercentageLow: number,\r\n\tpercentageHigh: number,\r\n\tgraphData: GraphData\r\n};\r\n\r\ninterface VisualizationState {\r\n\tmounted: boolean\r\n};\r\n\r\nclass Visualization extends React.Component<VisualizationProps, VisualizationState> {\r\n\tprivate id: string;\r\n\tprivate graphData: GraphData;\r\n\tprivate nodes: INode[] = [];\r\n\tprivate edges: IEdge[] = [];\r\n\tprivate persistedNodes: INode[] = [];\r\n\tprivate persistedEdges: IEdge[] = [];\r\n\r\n\tprivate link: any;\r\n\tprivate persistedLink: any;\r\n\tprivate node: any;\r\n\tprivate label: any;\r\n\tprivate edgeLabels: any;\r\n\tprivate simulation: any;\r\n\tprivate g: any;\r\n\r\n\tprivate readonly colors = {\r\n\t\thover: '#F50057',\r\n\t\tpersisted: '#95a5a6',\r\n\t\tnode: '#2c387e',\r\n\t\tnodeHover: '#F50057',\r\n\t\tnodeOutline: '#bdc3c7'\r\n\t};\r\n\r\n\tprivate readonly markers : IMarker[] = [\r\n\t\t{\r\n\t\t\tname: Graph.CROSSCUT,\r\n\t\t\tpath: 'M0,-5L10,0L0,5',\r\n\t\t\tviewBox: '0 -5 10 10',\r\n\t\t\trefX: 0,\r\n\t\t\trefY: 0,\r\n\t\t\twidth: 4,\r\n\t\t\theight: 4\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: DependencyType.INHERITANCE,\r\n\t\t\tpath: 'M10 5 0 0 0 10 Z M8 5 1 8.4 1 1.6Z',\r\n\t\t\tviewBox: '0 0 10 10',\r\n\t\t\trefX: 0,\r\n\t\t\trefY: 5,\r\n\t\t\twidth: 3,\r\n\t\t\theight: 3\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: DependencyType.IMPLEMENTATION,\r\n\t\t\tpath: 'M10 5 0 0 0 10 Z M8 5 1 8.4 1 1.6Z',\r\n\t\t\tviewBox: '0 0 10 10',\r\n\t\t\trefX: 0,\r\n\t\t\trefY: 5,\r\n\t\t\twidth: 3,\r\n\t\t\theight: 3\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: DependencyType.ASSOCIATION,\r\n\t\t\tpath: 'M2,2 L10,6 L2,10 L6,6 L2,2',\r\n\t\t\tviewBox: '0 0 12 12',\r\n\t\t\trefX: 6,\r\n\t\t\trefY: 6,\r\n\t\t\twidth: 6,\r\n\t\t\theight: 6\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: DependencyType.DEPENDENCY,\r\n\t\t\tpath: 'M2,2 L10,6 L2,10 L6,6 L2,2',\r\n\t\t\tviewBox: '0 0 16 10',\r\n\t\t\trefX: 6,\r\n\t\t\trefY: 6,\r\n\t\t\twidth: 6,\r\n\t\t\theight: 6\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: DependencyType.REFERENCES,\r\n\t\t\tpath: 'M0,-5L10,0L0,5',\r\n\t\t\tviewBox: '0 -5 10 10',\r\n\t\t\trefX: 0,\r\n\t\t\trefY: 0,\r\n\t\t\twidth: 4,\r\n\t\t\theight: 4\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: DependencyType.CALLS,\r\n\t\t\tpath: 'M0,-5L10,0L0,5',\r\n\t\t\tviewBox: '0 -5 10 10',\r\n\t\t\trefX: 0,\r\n\t\t\trefY: 0,\r\n\t\t\twidth: 4,\r\n\t\t\theight: 4\r\n\t\t}\r\n\t];\r\n\r\n\tconstructor(props: any) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.id = 'visualization';\r\n\t\tthis.graphData = this.props.graphData;\r\n\t\tthis.nodes = this.graphData.getNodes();\r\n\t\tthis.state = {\r\n\t\t\tmounted: false\r\n\t\t};\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps: VisualizationProps) {\r\n\t\tif (nextProps.graphData !== this.props.graphData) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tif (this.state.mounted) {\r\n\t\t\t\tthis.restart();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.graphData = this.props.graphData;\r\n\t\tthis.nodes = this.graphData.getNodes();\r\n\t\tthis.edges = [];\r\n\t\tthis.persistedEdges = [];\r\n\r\n\t\tif (this.state.mounted) {\r\n\t\t\tthis.restart();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ mounted: true });\r\n\t\tthis.startD3Graph();\r\n\t}\r\n\r\n\trender() {\t\t\r\n\t\treturn (\r\n\t\t\t<svg id={this.id}></svg>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate startD3Graph() {\r\n\t\tconst width = window.innerWidth;\r\n\t\tconst height = window.innerHeight;\t\r\n\r\n\t\tconst svg = d3.select('#' + this.id)\r\n\t\t\t.attr('width', width)\r\n\t\t\t.attr('height', height);\r\n\r\n\t\tconst zoomContainer = svg.append('g');\r\n\r\n\t\tsvg.call(d3.zoom()\r\n\t\t\t.extent([[0, 0], [width, height]])\r\n\t\t\t.scaleExtent([0.25, 4])\r\n\t\t\t.on('zoom', () => {\r\n\t\t\t\tzoomContainer.attr('transform', d3.event.transform);\r\n\t\t\t}) as any);\r\n\r\n\t\tthis.g = zoomContainer.append('g')\r\n\t\t\t.attr('transform', 'translate(' + width / 2 + ',' + height * 0.4 + ')');\r\n\r\n\t\tthis.persistedLink = this.g.append('g')\r\n\t\t\t.selectAll('.pLink');\r\n\r\n\t\tthis.link = this.g.append('g')\r\n\t\t\t.selectAll('.link');\r\n\r\n\t\tthis.edgeLabels = this.g.append('text')\r\n\t\t\t.attr('dy', -5)\r\n\t\t\t.selectAll('.percentages');\r\n\r\n\t\tthis.node = this.g.append('g')\r\n\t\t\t.attr('stroke', this.colors.nodeOutline)\r\n\t\t\t.attr('stroke-width', 5)\r\n\t\t\t.selectAll('.node');\r\n\r\n\t\tthis.label = this.g.append('g')\r\n\t\t\t.selectAll('.label');\r\n\r\n\t\tconst markers = [...this.markers.map((marker) => {\r\n\t\t\tmarker.color = this.colors.hover;\r\n\t\t\treturn marker;\r\n\t\t}), ...this.markers.map((marker) => {\r\n\t\t\tconst newMarker = Object.create(marker);\r\n\t\t\tnewMarker.color = this.colors.persisted;\r\n\t\t\treturn newMarker;\r\n\t\t})];\r\n\r\n\t\tthis.g.append('defs').selectAll('marker')\r\n\t\t\t.data(markers)\r\n\t\t\t.enter().append('marker')\r\n\t\t\t\t.attr('id', (marker: IMarker) => marker.name + '-' + marker.color)\r\n\t\t\t\t.attr('viewBox', (marker: IMarker) => marker.viewBox)\r\n\t\t\t\t.attr('refX', (marker: IMarker) => marker.refX)\r\n\t\t\t\t.attr('refY', (marker: IMarker) => marker.refY)\r\n\t\t\t\t.attr('markerWidth', (marker: IMarker) => marker.width)\r\n\t\t\t\t.attr('markerHeight', (marker: IMarker) => marker.height)\r\n\t\t\t\t.attr('orient', 'auto')\r\n\t\t\t.append('path')\r\n\t\t\t\t.attr('d', (marker: IMarker) => marker.path)\r\n\t\t\t\t.attr('fill', (marker: IMarker) => marker.color)\r\n\r\n\t\tthis.simulation = d3.forceSimulation(this.nodes)\r\n\t\t\t.force('charge', d3.forceManyBody().strength(-1000))\r\n\t\t\t.force('link', d3.forceLink(this.persistedEdges).distance(400).strength(0.05))\r\n\t\t\t.force('x', d3.forceX().strength(0.1))\r\n\t\t\t.force('y', d3.forceY().strength(0.1))\r\n\t\t\t.alphaTarget(1)\r\n\t\t\t.on('tick', this.tick.bind(this));\r\n\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate tick() {\r\n\t\tthis.node\r\n\t\t\t.attr('cx', (node: INode) => node.x)\r\n\t\t\t.attr('cy', (node: INode) => node.y);\r\n\t\tthis.link\r\n\t\t\t.attr('d', this.calculateCurvedPath)\r\n\t\t\t.attr('d', this.calculateArrowOffset);\r\n\t\tthis.persistedLink\r\n\t\t\t.attr('d', this.calculateCurvedPath)\r\n\t\t\t.attr('d', this.calculateArrowOffset);\r\n\t\tthis.label\r\n\t\t\t.attr('transform', (node: INode) => 'translate(' + node.x + ',' + node.y + ')');\r\n\t}\r\n\r\n\tprivate restart() {\r\n\t\tconst filteredEdges = this.edges.filter(this.isWithinRange.bind(this));\r\n\t\tconst filteredPersistedEdges = this.persistedEdges.filter(this.isWithinRange.bind(this));\r\n\r\n\t\tthis.restartLink(filteredEdges);\r\n\t\tthis.restartPersistedLinks(filteredPersistedEdges);\r\n\t\tthis.restartEdgeLabels([...filteredEdges, ...filteredPersistedEdges]);\r\n\t\tthis.restartNode();\r\n\t\tthis.restartLabels();\r\n\r\n\t\tthis.simulation.nodes(this.nodes);\r\n\t\tthis.simulation.force('link').links(filteredPersistedEdges);\r\n\t\tthis.simulation.alpha(1).restart();\r\n\t}\r\n\r\n\tprivate restartNode() {\r\n\t\tthis.node = this.node.data(this.nodes, (node: INode) => node.name);\r\n\t\tthis.node.exit().remove();\r\n\t\tthis.node = this.node.enter().append('circle')\r\n\t\t\t.on('mouseover', this.onMouseOver.bind(this))\r\n\t\t\t.on('mouseout', this.onMouseOut.bind(this))\r\n\t\t\t.on('click', this.onClick.bind(this))\r\n\t\t\t.attr('id', (node: INode) => node.id)\r\n\t\t\t.attr('r', this.getRadius)\r\n\t\t\t.attr('fill', this.colors.node)\r\n\t\t\t.call(this.drag(this.simulation))\r\n\t\t\t.merge(this.node);\r\n\t}\r\n\r\n\tprivate restartLink(edges: IEdge[]) {\r\n\t\tthis.link = this.link.data(edges, this.getEdgeId);\r\n\t\tthis.link.exit().remove();\r\n\t\tthis.link = this.link.enter().append('path')\r\n\t\t\t.attr('stroke', this.colors.hover)\r\n\t\t\t.attr('stroke-width', this.getEdgeWeight)\r\n\t\t\t.attr('fill', 'none')\r\n\t\t\t.attr('id', this.getEdgeId)\r\n\t\t\t.attr('marker-end', (edge: IEdge) => `url(#${edge.type}-${this.colors.hover})`)\r\n\t\t\t.attr('class', (edge: IEdge) => edge.type)\r\n\t\t\t.merge(this.link);\r\n\t}\r\n\r\n\tprivate restartPersistedLinks(persistedEdges: IEdge[]) {\r\n\t\tthis.persistedLink = this.persistedLink.data(persistedEdges, this.getEdgeId);\r\n\t\tthis.persistedLink.exit().remove();\r\n\t\tthis.persistedLink = this.persistedLink.enter().append('path')\r\n\t\t\t.attr('stroke', this.colors.persisted)\r\n\t\t\t.attr('stroke-width', this.getEdgeWeight)\r\n\t\t\t.attr('fill', 'none')\r\n\t\t\t.attr('id', this.getEdgeId)\r\n\t\t\t.attr('marker-end', (edge: IEdge) => `url(#${edge.type}-${this.colors.persisted})`)\r\n\t\t\t.attr('class', (edge: IEdge) => edge.type)\r\n\t\t\t.merge(this.persistedLink);\r\n\t}\r\n\r\n\tprivate restartEdgeLabels(edges: IEdge[]) {\r\n\t\tthis.edgeLabels = this.edgeLabels.data(edges, this.getEdgeId);\r\n\t\tthis.edgeLabels.exit().remove();\r\n\t\tthis.edgeLabels = this.edgeLabels.enter().append('textPath')\r\n\t\t\t.attr('xlink:href', (edge: IEdge) => '#' + this.getEdgeId(edge))\r\n\t\t\t.attr('startOffset', '45%')\r\n\t\t\t.attr('fill', '#454545')\r\n\t\t\t.text((edge: IEdge) => {\r\n\t\t\t\tif (edge.type === Graph.CROSSCUT) {\r\n\t\t\t\t\treturn Math.round(edge.weight * 100) + '%';\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn edge.type;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.merge(this.edgeLabels);\r\n\t}\r\n\r\n\tprivate restartLabels() {\r\n\t\tthis.label = this.label.data(this.nodes, (node: INode) => node.id);\r\n\t\tthis.label.exit().remove();\r\n\t\tthis.label = this.label.enter().append('text')\r\n\t\t\t.attr('x', (node: INode) => -1 * node.name.length / 2 + 'ch')\r\n\t\t\t.attr('y', (node: INode) => this.getRadius(node) + 20)\r\n\t\t\t.attr('fill', '#000')\r\n\t\t\t.text((node: INode) => node.name)\r\n\t\t\t.merge(this.label);\r\n\t}\r\n\r\n\tprivate onMouseOver(node: INode) {\r\n\t\tthis.g.select('#' + node.id).attr('stroke', this.colors.nodeHover).attr('stroke-width', 5);\r\n\t\tthis.edges = this.graphData.getEdgesFrom(node);\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate onMouseOut(node: INode) {\r\n\t\tthis.g.select('#' + node.id).attr('stroke', null).attr('stroke-width', null);\r\n\t\tthis.edges = [];\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate onClick(node: INode) {\r\n\t\tconst index = this.persistedNodes.indexOf(node);\r\n\t\tconst edgesFromNode = this.graphData.getEdgesFrom(node);\r\n\t\tif (index < 0) {\r\n\t\t\tthis.persistedNodes.push(node);\r\n\t\t\tthis.persistedEdges.push(...edgesFromNode);\r\n\t\t} else {\r\n\t\t\tthis.persistedNodes.splice(index, 1);\r\n\t\t\tthis.persistedEdges = this.persistedEdges.filter((edge) => edgesFromNode.indexOf(edge) < 0);\r\n\t\t}\r\n\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate drag(simulation: any): any {\r\n\t\tconst onDragStart = (node: any) => {\r\n\t\t\tif (!d3.event.active) {\r\n\t\t\t\tsimulation.alphaTarget(0.3).restart();\r\n\t\t\t}\r\n\t\t\tnode.fx = node.x;\r\n\t\t\tnode.fy = node.y;\r\n\t\t}\r\n\r\n\t\tconst onDrag = (node: any) => {\r\n\t\t\tnode.fx = d3.event.x;\r\n\t\t\tnode.fy = d3.event.y;\r\n\t\t}\r\n\r\n\t\tconst onDragEnd = (node: any) => {\r\n\t\t\tif (!d3.event.active) simulation.alphaTarget(0);\r\n\t\t\tnode.fx = null;\r\n\t\t\tnode.fy = null;\r\n\t\t}\r\n\r\n\t\treturn d3.drag()\r\n\t\t\t.on('start', onDragStart)\r\n\t\t\t.on('drag', onDrag)\r\n\t\t\t.on('end', onDragEnd);\r\n\t};\r\n\r\n\tprivate calculateCurvedPath(edge: IEdge): string {\r\n\t\tconst dx = edge.target.x - edge.source.x;\r\n\t\tconst dy = edge.target.y - edge.source.y;\r\n\t\tconst dr = Math.sqrt(dx * dx + dy * dy);\r\n\t\treturn 'M' + edge.source.x + ',' + edge.source.y + 'A' + dr + ',' + dr + ' 0 0,1 ' + edge.target.x + ',' + edge.target.y;\r\n\t}\r\n\r\n\tprivate calculateArrowOffset(this: any, edge: IEdge): string {\r\n\t\tconst pathLength = this.getTotalLength();\r\n\t\tconst markerLength = 6 * Math.sqrt(edge.weight * 10);\r\n\t\tconst markerSize = Math.sqrt(Math.pow(markerLength, 2) * 2);\r\n\t\tconst radius = (edge.target.size * 10) + markerSize;\r\n\r\n\t\tconst m = this.getPointAtLength(pathLength - radius);\r\n\t\tconst dx = m.x - edge.source.x;\r\n\t\tconst dy = m.y - edge.source.y;\r\n\t\tconst dr = Math.sqrt(dx * dx + dy * dy);\r\n\r\n\t\treturn 'M' + edge.source.x + ',' + edge.source.y + 'A' + dr + ',' + dr + ' 0 0,1 ' + m.x + ',' + m.y;\r\n\t}\r\n\r\n\tprivate isWithinRange(edge: IEdge) {\r\n\t\treturn edge.type !== Graph.CROSSCUT || (edge.weight >= this.props.percentageLow && edge.weight <= this.props.percentageHigh);\r\n\t}\r\n\r\n\tprivate getRadius(node: INode): number {\r\n\t\treturn node.size * 10;\r\n\t}\r\n\r\n\tprivate getEdgeId(edge: IEdge): string {\r\n\t\treturn edge.source.id + '-' + edge.target.id;\r\n\t}\r\n\r\n\tprivate getEdgeWeight(edge: IEdge): number {\r\n\t\treturn Math.pow(edge.weight, 1.25) * 7;\r\n\t}\r\n};\r\n\r\nexport default Visualization;\r\n","import IResponse from './types/IResponse';\r\nimport * as d3 from 'd3';\r\nimport { DependencyType } from './types/DependencyType';\r\nimport { Graph } from './types/GraphType';\r\n\r\nexport interface IEdge extends d3.SimulationLinkDatum<INode> {\r\n\tsource: INode,\r\n\ttarget: INode,\r\n\tweight: number,\r\n\ttype: string\r\n}\r\n\r\nexport interface INode extends d3.SimulationNodeDatum {\r\n\tname: string,\r\n\tid: string,\r\n\tsize: number,\r\n\tx: number,\r\n\ty: number\r\n}\r\n\r\nexport default class GraphData {\r\n\tprivate nodes: INode[];\r\n\tprivate edges: IEdge[];\r\n\r\n\tconstructor(response: IResponse) {\r\n\t\tthis.nodes = this.parseNodes(response.names, response.size);\r\n\t\tthis.edges = this.parseEdges(response.data);\r\n\t}\r\n\r\n\tpublic getNodes(): INode[] {\r\n\t\treturn this.nodes;\r\n\t}\r\n\r\n\tpublic getEdges(): IEdge[] {\r\n\t\treturn this.edges;\r\n\t}\r\n\r\n\tpublic getEdgesFrom(node: INode) {\r\n\t\treturn this.edges.filter((edge) => edge.source === node);\r\n\t}\r\n\r\n\tprivate parseNodes(names: string[], sizes: number[] | undefined): INode[] {\r\n\t\tconst nodes: INode[] = [];\r\n\r\n\t\tif (sizes && names.length !== sizes.length) {\r\n\t\t\tthrow new Error('bad response');\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < names.length; i++) {\r\n\t\t\tnodes.push({\r\n\t\t\t\tid: this.cleanName(names[i]),\r\n\t\t\t\tname: names[i],\r\n\t\t\t\tsize: sizes ? sizes[i] : 2,\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn nodes;\r\n\t}\r\n\r\n\tprivate parseEdges(data: number[][] | DependencyType[][][]): IEdge[] {\r\n\t\tconst edges: IEdge[] = [];\r\n\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tfor (let j = 0; j < data[i].length; j++) {\r\n\t\t\t\tif (i === j) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof data[i][j] === 'number') {\r\n\t\t\t\t\tconst dataVal: number = data[i][j] as number;\r\n\r\n\t\t\t\t\tif (data[i][j] === 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tedges.push({\r\n\t\t\t\t\t\tsource: this.nodes[j],\r\n\t\t\t\t\t\ttarget: this.nodes[i],\r\n\t\t\t\t\t\tweight: dataVal,\r\n\t\t\t\t\t\ttype: Graph.CROSSCUT\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst depTypes: DependencyType[] = data[i][j] as DependencyType[];\r\n\r\n\t\t\t\t\t// TODO currently only takes the first dependency type as the vis can't show more than one right now\r\n\r\n\t\t\t\t\t// depTypes.forEach((type) => {\r\n\t\t\t\t\t// \tedges.push({\r\n\t\t\t\t\t// \t\tsource: this.nodes[j],\r\n\t\t\t\t\t// \t\ttarget: this.nodes[i],\r\n\t\t\t\t\t// \t\tweight: 0.8,\r\n\t\t\t\t\t// \t\ttype: type\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// });\r\n\r\n\t\t\t\t\tif (depTypes.length) {\r\n\t\t\t\t\t\tedges.push({\r\n\t\t\t\t\t\t\tsource: this.nodes[j],\r\n\t\t\t\t\t\t\ttarget: this.nodes[i],\r\n\t\t\t\t\t\t\tweight: 1,\r\n\t\t\t\t\t\t\ttype: depTypes[0]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn edges;\r\n\t}\r\n\r\n\tprivate cleanName(name: string): string {\r\n\t\treturn name.replace(new RegExp(/\\W/, 'g'), '-');\r\n\t}\r\n}","import React, { useState, useEffect } from 'react';\nimport Header from './components/Header/Header';\nimport HelpModal from './components/Modal/HelpModal';\nimport HelpModalContextProvider from './components/Modal/HelpModalContext';\nimport Footer from './components/Footer/Footer';\nimport Visualization from './components/Visualization/Visualization';\nimport IResponse from './data/types/IResponse';\nimport { SettingsContext, DataContext } from './AppContext';\nimport GraphData from './data/GraphData';\nimport { Granularity } from './data/types/GranularityType';\nimport { Graph } from './data/types/GraphType';\nimport axios from 'axios';\nimport { indexOfCommit } from './components/Header/CommitDropdown';\n\nexport interface ICommit {\n\tname: string,\n\tauthor: string,\n\tvalue: string,\n\tsha: string\n};\n\nexport interface ISettings {\n\trepository: string,\n\tstartCommit: string,\n\tendCommit: string,\n\tgranularity: Granularity,\n\tgraph: Graph\n};\n\nexport interface IData {\n\tresponse: IResponse,\n\tpercentageLow: number,\n\tpercentageHigh: number,\n\tcommits: ICommit[]\n};\n\nconst App = () => {\n\tconst url: string = 'https://it-depends.herokuapp.com';\n\t// const url = 'http://localhost:8080'\n\taxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\n\tconst [settings, setSettings] = useState<ISettings>({\n\t\trepository: '',\n\t\tstartCommit: '',\n\t\tendCommit: '',\n\t\tgranularity: Granularity.FILES,\n\t\tgraph: Graph.CROSSCUT\n\t});\n\n\tconst [data, setData] = useState<IData>({\n\t\tresponse: {\n\t\t\tnames: [],\n\t\t\tsize: [],\n\t\t\tdata: []\n\t\t},\n\t\tpercentageLow: 0,\n\t\tpercentageHigh: 100,\n\t\tcommits: []\n\t});\n\n\tconst [graphData, setGraphData] = useState<GraphData>(new GraphData({ names: [], size: [], data: [] }));\n\n\tuseEffect(() => {\n\t\tif (settings.repository.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst getCommits = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.put(`${url}/init?url=${settings.repository}`);\n\t\t\t\tconst commits = response.data.commits.reverse();\n\t\t\t\tconst processedCommits = commits.map(processCommit);\n\t\t\t\tsetData((prev: any) => ({...prev, commits: processedCommits}));\n\t\t\t\tsetSettings((prev: any) => ({...prev, startCommit: processedCommits[0].value, endCommit: processedCommits[processedCommits.length - 1].value}));\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\t// TODO: show error in UI\n\t\t\t}\n\t\t};\n\n\t\tgetCommits();\n\t}, [settings.repository, setSettings, setData])\n\n\tuseEffect(() => {\n\t\tif (settings.repository.length === 0 || settings.startCommit === '' || settings.endCommit === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst getGranularity = () => {\n\t\t\tswitch(settings.granularity) {\n\t\t\t\tcase Granularity.FILES:\n\t\t\t\t\treturn 'file';\n\t\t\t\tcase Granularity.CLASSES:\n\t\t\t\t\treturn 'class';\n\t\t\t\tcase Granularity.FUNCTIONS:\n\t\t\t\t\treturn 'method';\n\t\t\t}\n\t\t}\n\n\t\tconst getVisData = async () => {\n\t\t\tconst commits = data.commits;\n\t\t\tconst granularity = getGranularity();\n\n\t\t\tlet responseData: IResponse;\n\t\t\tif (settings.graph === Graph.CROSSCUT) {\n\t\t\t\tconst startIndex = indexOfCommit(commits, settings.startCommit);\n\t\t\t\tconst endIndex = indexOfCommit(commits, settings.endCommit);\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await axios.get(`${url}/crosscut/${granularity}?start=${startIndex}&end=${endIndex}&url=${settings.repository}`);\n\t\t\t\t\tresponseData = response.data;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\tresponseData = {\n\t\t\t\t\t\tnames: [],\n\t\t\t\t\t\tsize: [],\n\t\t\t\t\t\tdata: []\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst startIndex = indexOfCommit(commits, settings.startCommit);\n\t\t\t\tconst endIndex = indexOfCommit(commits, settings.endCommit);\n\t\t\t\tconst startSha = commits[startIndex].sha;\n\t\t\t\tconst endSha = commits[endIndex].sha;\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await axios.get(`${url}/dependency/${granularity}?start=${startSha}&end=${endSha}&url=${settings.repository}`);\n\t\t\t\t\tresponseData = response.data;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\tresponseData = {\n\t\t\t\t\t\tnames: [],\n\t\t\t\t\t\tsize: [],\n\t\t\t\t\t\tdata: []\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof responseData.size === 'number') {\n\t\t\t\tconst size = responseData.names.map(() => Math.floor(Math.random() * (8 - 1) + 1));\n\t\t\t\tresponseData.size = size;\n\t\t\t}\n\t\t\tsetData((prev: any) => ({...prev, response: responseData}))\n\t\t}\n\n\t\tgetVisData();\n\t}, [settings.startCommit, settings.endCommit, settings.granularity, settings.repository, settings.graph, data.commits, setData]);\n\n\tuseEffect(() => {\n\t\tsetGraphData(new GraphData(data.response));\n\t}, [data.response, setGraphData]);\n\n\tconst processCommit = (commit: any): ICommit => {\n\t\tconst indexOfNL = commit.message.indexOf('\\n');\n\t\tconst name = indexOfNL === -1 ? commit.message : commit.message.substring(0, indexOfNL);\n\t\tconst author = commit.author ? commit.author.login : '';\n\n\t\treturn { name: name, author: author, value: `${name} - ${author}`, sha: commit.sha };\n\t};\n\n\treturn (\n\t\t<DataContext.Provider value={[data, setData]}>\n\t\t\t<SettingsContext.Provider value={[settings, setSettings]}>\n\t\t\t\t<HelpModalContextProvider>\n\t\t\t\t\t<HelpModal />\n\t\t\t\t\t<Header />\n\t\t\t\t</HelpModalContextProvider>\n\t\t\t\t<Visualization\n\t\t\t\t\tgraphData={graphData}\n\t\t\t\t\tpercentageLow={data.percentageLow / 100}\n\t\t\t\t\tpercentageHigh={data.percentageHigh / 100}\n\t\t\t\t/>\n\t\t\t\t<Footer />\n\t\t\t</SettingsContext.Provider>\n\t\t</DataContext.Provider>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}