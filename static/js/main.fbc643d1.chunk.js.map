{"version":3,"sources":["components/Dropdown/Dropdown.tsx","components/Header/CommitDropdown.tsx","components/Modal/HelpModalContext.tsx","components/Header/Header.tsx","components/Modal/HelpModal.tsx","components/Footer/Footer.tsx","data/GraphData.ts","components/Visualization/Visualization.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Dropdown","props","selectedValue","label","disabled","setSelectedValue","values","className","useState","labelWidth","setLabelWidth","inputLabel","useRef","useEffect","current","offsetWidth","FormControl","variant","clsx","InputLabel","ref","id","margin","Select","value","onChange","e","target","labelId","map","val","i","MenuItem","key","CommitDropdown","commitsShown","selectedCommit","showCommitsAfter","setSelectedCommit","commits","indexOfStart","indexOf","slice","length","HelpModalContext","React","createContext","HelpModalContextProvider","open","setOpen","Provider","children","Header","repo","setRepo","setCommits","start","end","selectedCommits","setSelectedCommits","useContext","sendRequest","console","log","Grid","container","spacing","justify","item","xs","IconButton","aria-label","onClick","sm","md","TextField","type","fullWidth","onKeyDown","Button","color","commit","prev","HelpModal","modalPosition","top","window","innerHeight","left","innerWidth","width","Modal","aria-labelledby","onClose","style","Footer","selectedType","setType","setValue","isWide","wide","Slider","newVal","valueLabelDisplay","getAriaValueText","GraphData","response","nodes","edges","data","this","parseNodes","names","size","parseEdges","node","filter","edge","source","sizes","Error","push","cleanName","name","x","y","j","weight","replace","Visualization","graphData","persistedNodes","persistedEdges","labelNodes","hoveredNode","link","persistedLink","simulation","g","getNodes","Set","height","svg","d3","attr","zoomContainer","append","call","extent","scaleExtent","on","transform","selectAll","enter","force","strength","distance","alphaTarget","tick","bind","restart","calculateCurvedPath","calculateArrowOffset","getLabelNodes","exit","remove","onMouseOver","onMouseOut","drag","merge","d","Math","sqrt","Array","from","text","alpha","select","getEdgesFrom","index","edgesFromNode","splice","active","fx","fy","dx","dy","dr","pathLength","getTotalLength","markerLength","markerSize","pow","radius","m","getPointAtLength","labels","add","forEach","Component","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.fbc643d1.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport clsx from 'clsx';\r\n\r\nimport './Dropdown.scss';\r\n\r\nexport interface DropdownProps<T> {\r\n\tselectedValue: T,\r\n\tlabel: string,\r\n\tdisabled: boolean,\r\n\tsetSelectedValue: Function,\r\n\tvalues: Array<T>,\r\n\tclassName?: string\r\n};\r\n\r\nconst Dropdown = (props: DropdownProps<string>) => {\r\n\tconst { selectedValue, label, disabled, setSelectedValue, values, className } = props;\r\n\r\n\tconst [labelWidth, setLabelWidth] = useState(0);\r\n\tconst inputLabel = useRef<HTMLLabelElement>(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLabelWidth(inputLabel.current!.offsetWidth);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<FormControl variant='outlined' className={clsx('dropdown', className)} disabled={disabled}>\r\n\t\t\t<InputLabel ref={inputLabel} id={label} className='label' margin='dense'>\r\n\t\t\t\t{ label }\r\n\t\t\t</InputLabel>\r\n\t\t\t<Select\r\n\t\t\t\tclassName='select'\r\n\t\t\t\tvalue={selectedValue}\r\n\t\t\t\tonChange={(e) => setSelectedValue(e.target.value)}\r\n\t\t\t\tmargin='dense'\r\n\t\t\t\tlabelId={label}\r\n\t\t\t\tlabelWidth={labelWidth}\r\n\t\t\t>\r\n\t\t\t\t{ values.map((val, i) => (<MenuItem key={val + i} value={val}>{ val }</MenuItem>)) }\r\n\t\t\t</Select>\r\n\t\t</FormControl>\r\n\t);\r\n}\r\n\r\nexport default Dropdown;\r\n","import React from 'react';\nimport Dropdown from '../Dropdown/Dropdown';\n\nexport interface CommitDropdownProps {\n\tlabel: string,\n\tselectedCommit: string,\n\tshowCommitsAfter: string,\n\tsetSelectedCommit: Function,\n\tcommits: Array<string>,\n};\n\nconst CommitDropdown = (props: CommitDropdownProps) => {\n\tconst { label, selectedCommit, showCommitsAfter, setSelectedCommit, commits } = props;\n\n\tlet commitsShown: Array<string>;\n\tconst indexOfStart: number = commits.indexOf(showCommitsAfter);\n\tif (indexOfStart < 0) {\n\t\tcommitsShown = commits;\n\t} else {\n\t\tcommitsShown = commits.slice(indexOfStart + 1, commits.length);\n\t}\n\n\treturn (\n\t\t<Dropdown\n\t\t\tselectedValue={selectedCommit}\n\t\t\tlabel={label}\n\t\t\tdisabled={!commitsShown.length}\n\t\t\tsetSelectedValue={setSelectedCommit}\n\t\t\tvalues={commitsShown}\n\t\t/>\n\t);\n}\n\nexport default CommitDropdown;\n","import React, { useState } from 'react';\n\nexport const HelpModalContext = React.createContext([] as any[]);\n\nconst HelpModalContextProvider = (props: any) => {\n\tconst [open, setOpen] = useState(false);\n\n\treturn (\n\t\t<HelpModalContext.Provider value={[open, setOpen]}>\n\t\t\t{ props.children }\n\t\t</HelpModalContext.Provider>\n\t)\n}\n\nexport default HelpModalContextProvider;\n","import React, { useState, useContext } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport CommitDropdown from './CommitDropdown';\nimport { HelpModalContext } from '../Modal/HelpModalContext';\n\nimport './Header.scss';\n\nconst Header = () => {\n\tconst [repo, setRepo] = useState('');\n\tconst [commits, setCommits] = useState([] as string[]);\n\tconst [selectedCommits, setSelectedCommits] = useState({ start: '', end: '' });\n\tconst setOpen: Function = useContext(HelpModalContext)[1];\n\n\tconst sendRequest = () => {\n\t\t// TODO\n\t\tconsole.log(repo);\n\t\tsetCommits([\n\t\t\t'commit #1',\n\t\t\t'commit #2',\n\t\t\t'commit #3',\n\t\t\t'commit #4',\n\t\t\t'commit #5',\n\t\t\t'commit #6',\n\t\t\t'commit #7',\n\t\t\t'commit #8',\n\t\t\t'commit #9',\n\t\t\t'commit #10'\n\t\t]);\n\t};\n\n\tconst handleKeyDown = (e: any) => {\n\t\tif (e.key === 'Enter') {\n\t\t\tsendRequest();\n\t\t}\n\t};\n\n\tconst setStartCommit = (commit: string) => {\n\t\tsetSelectedCommits(prev => ({ ...prev, start: commit }));\n\t};\n\n\tconst setEndCommit = (commit: string) => {\n\t\tsetSelectedCommits(prev => ({ ...prev, end: commit }));\n\t};\n\n\tconst showHelp = () => {\n\t\tsetOpen(true);\n\t};\n\n\treturn (\n\t\t<div className='headerContainer'>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tclassName='repoContainer'\n\t\t\t\tspacing={1}\n\t\t\t\tjustify='space-evenly'\n\t\t\t>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<span className='heading'>IT DEPENDS</span>\n\t\t\t\t\t<IconButton className='help' aria-label='help' onClick={showHelp}>\n\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={10} sm={11} md={4}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel='Repository'\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tvalue={repo}\n\t\t\t\t\t\tonChange={(e) => setRepo(e.target.value)}\n\t\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2} sm={1} md={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid='repoSend'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => sendRequest()}\n\t\t\t\t\t>\n\t\t\t\t\t\t>\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={3}></Grid>\n\t\t\t\t<Grid item xs={6} sm={6} md={2}>\n\t\t\t\t\t<CommitDropdown\n\t\t\t\t\t\tlabel='Start Commit'\n\t\t\t\t\t\tselectedCommit={selectedCommits.start}\n\t\t\t\t\t\tshowCommitsAfter={''}\n\t\t\t\t\t\tsetSelectedCommit={setStartCommit}\n\t\t\t\t\t\tcommits={commits}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} sm={6} md={2}>\n\t\t\t\t\t<CommitDropdown\n\t\t\t\t\t\tlabel='End Commit'\n\t\t\t\t\t\tselectedCommit={selectedCommits.end}\n\t\t\t\t\t\tshowCommitsAfter={selectedCommits.start}\n\t\t\t\t\t\tsetSelectedCommit={setEndCommit}\n\t\t\t\t\t\tcommits={commits}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nexport default Header;","import React, { useContext } from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport { HelpModalContext } from './HelpModalContext';\nimport Button from '@material-ui/core/Button';\n\nimport './HelpModal.scss';\n\nconst HelpModal = () => {\n\tconst [open, setOpen] = useContext(HelpModalContext);\n\n\tconst modalPosition = {\n\t\ttop: window.innerHeight / 2,\n\t\tleft: window.innerWidth / 2,\n\t\twidth: window.innerWidth > 550 ? 480 : '85%',\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\taria-labelledby='help'\n\t\t\topen={open}\n\t\t\tonClose={() => setOpen(false)}\n\t\t>\n\t\t\t<div className='helpModal' style={modalPosition}>\n\t\t\t\t<span className='helpHeader'>Help</span>\n\t\t\t\t<div className='helpDescription'>\n\t\t\t\t\tThis tool enables developers to more easily visualize dependencies between entities in a software system (classes, files, etc...)\n\t\t\t\t\twhich cut across commit history.\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName='closeButton'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tcolor='secondary'\n\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t>\n\t\t\t\t\tClose\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default HelpModal;","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport Dropdown from '../Dropdown/Dropdown';\nimport clsx from 'clsx';\n\nimport './Footer.scss';\n\nconst Footer = () => {\n\tconst [selectedType, setType] = useState<string>('');\n\tconst [value, setValue] = useState<number[]>([0, 100]);\n\n\tconst types: Array<string> = ['Files', 'Classes', 'Functions'];\n\tconst isWide: boolean = window.innerWidth > 550;\n\n\treturn (\n\t\t<Grid \n\t\t\tclassName='footer'\n\t\t\tcontainer\n\t\t\tspacing={0}\n\t\t\tjustify='space-between'\n\t\t>\n\t\t\t<Grid item xs={12} sm={5}>\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName={clsx({ wide: isWide })}\n\t\t\t\t\tselectedValue={selectedType}\n\t\t\t\t\tlabel='Granularity'\n\t\t\t\t\tdisabled={false}\n\t\t\t\t\tsetSelectedValue={setType}\n\t\t\t\t\tvalues={types}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={1}></Grid>\n\t\t\t<Grid item xs={12} sm={3} className='sliderContainer'>\n\t\t\t\t<div className='sliderLabel'>Percentage Range</div>\n\t\t\t\t<Slider\n\t\t\t\t\tclassName={clsx('slider', { wide: isWide })}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={(e: any, newVal: number | number[]) => setValue(newVal as number[])}\n\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\taria-labelledby='range-slider'\n\t\t\t\t\tgetAriaValueText={() => value[0] + '-' + value[1]}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n};\n\nexport default Footer;","import IResponse from \"./IResponse\";\r\nimport * as d3 from 'd3';\r\n\r\nexport interface IEdge extends d3.SimulationLinkDatum<INode> {\r\n\tsource: INode,\r\n\ttarget: INode,\r\n\tweight: number\r\n}\r\n\r\nexport interface INode extends d3.SimulationNodeDatum {\r\n\tname: string,\r\n\tid: string,\r\n\tsize: number,\r\n\tx: number,\r\n\ty: number\r\n}\r\n\r\nexport default class GraphData {\r\n\tprivate nodes: INode[];\r\n\tprivate edges: IEdge[];\r\n\tprivate data: number[][];\r\n\r\n\tconstructor(response: IResponse) {\r\n\t\tthis.data = response.data;\r\n\t\tthis.nodes = this.parseNodes(response.names, response.size);\r\n\t\tthis.edges = this.parseEdges(response.data);\r\n\t}\r\n\r\n\tpublic getNodes(): INode[] {\r\n\t\treturn this.nodes;\r\n\t}\r\n\r\n\tpublic getEdges(): IEdge[] {\r\n\t\treturn this.edges;\r\n\t}\r\n\r\n\tpublic getEdgesFrom(node: INode) {\r\n\t\t// const edges: IEdge[] = [];\r\n\r\n\t\t// const indexOfNode = this.nodes.indexOf(node);\r\n\t\t// if (indexOfNode < 0) {\r\n\t\t// \treturn [];\r\n\t\t// }\r\n\r\n\t\t// for (let i = 0; i < this.data[indexOfNode].length; i++) {\r\n\t\t// \tif (i === indexOfNode) {\r\n\t\t// \t\tcontinue;\r\n\t\t// \t}\r\n\r\n\t\t// \tif ()\r\n\t\t// }\r\n\r\n\t\treturn this.edges.filter((edge) => edge.source === node);\r\n\t}\r\n\r\n\tprivate parseNodes(names: string[], sizes: number[]): INode[] {\r\n\t\tconst nodes: INode[] = [];\r\n\r\n\t\tif (names.length !== sizes.length) {\r\n\t\t\tthrow new Error('bad response');\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < names.length; i++) {\r\n\t\t\tnodes.push({\r\n\t\t\t\tid: this.cleanName(names[i]),\r\n\t\t\t\tname: names[i],\r\n\t\t\t\tsize: sizes[i],\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn nodes;\r\n\t}\r\n\r\n\tprivate parseEdges(data: number[][]): IEdge[] {\r\n\t\tconst edges: IEdge[] = [];\r\n\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tfor (let j = 0; j < data[i].length; j++) {\r\n\t\t\t\tif (i === j || data[i][j] === 0) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tedges.push({\r\n\t\t\t\t\tsource: this.nodes[i],\r\n\t\t\t\t\ttarget: this.nodes[j],\r\n\t\t\t\t\tweight: data[i][j]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn edges;\r\n\t}\r\n\r\n\tprivate cleanName(name: string): string {\r\n\t\treturn name.replace(' ', '').replace('(', '').replace(')', '');\r\n\t\t// TODO: make this more robust\r\n\t}\r\n}","import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport GraphData, { INode, IEdge } from '../../data/GraphData';\r\n\r\nclass Visualization extends React.Component {\r\n\tprivate id: string;\r\n\tprivate graphData: GraphData;\r\n\tprivate nodes: INode[];\r\n\tprivate edges: IEdge[];\r\n\tprivate persistedNodes: INode[];\r\n\tprivate persistedEdges: IEdge[];\r\n\tprivate labelNodes: Set<INode>;\r\n\tprivate hoveredNode: INode | null = null;\r\n\r\n\tprivate link: any;\r\n\tprivate persistedLink: any;\r\n\tprivate node: any;\r\n\tprivate label: any;\r\n\tprivate simulation: any;\r\n\tprivate g: any;\r\n\r\n\tconstructor(props: any) {\r\n\t\tsuper(props);\r\n\t\tthis.id = 'visualization';\r\n\r\n\t\tconst sampleResponse = {\r\n\t\t\tnames: ['constructor (A)', 'main (A)', 'receiveInput (A)', 'constructor (B)', 'doSomething (B)', 'doSomethingElse (B)', 'constructor (C1)', 'foo (C1)', 'constructor (C2)', 'barbar (C2)'],\r\n\t\t\tsize: [1,1,6,2,4,1,1,2,1,1],\r\n\t\t\tdata: [\r\n\t\t\t\t[1,1,0.166666667,0.5,0.25,0,0,0,0,0],\r\n\t\t\t\t[1,1,0.166666667,0.5,0.25,0,0,0,0,0],\r\n\t\t\t\t[1,1,1,1,0.75,1,1,1,1,0],\r\n\t\t\t\t[1,1,0.333333333,1,0.25,1,0,0,0,0],\r\n\t\t\t\t[1,1,0.5,0.5,1,0,0,0.5,0,0],\r\n\t\t\t\t[0,0,0.166666667,0.5,0,1,0,0,0,0],\r\n\t\t\t\t[0,0,0.166666667,0,0,0,1,0.5,1,0],\r\n\t\t\t\t[0,0,0.333333333,0,0.25,0,1,1,1,0],\r\n\t\t\t\t[0,0,0.166666667,0,0,0,1,0.5,1,0],\r\n\t\t\t\t[0,0,0,0,0,0,0,0,0,1]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tthis.graphData = new GraphData(sampleResponse);\r\n\t\tthis.nodes = this.graphData.getNodes();\r\n\t\tthis.edges = [];\r\n\t\tthis.persistedNodes = [];\r\n\t\tthis.persistedEdges = [];\r\n\t\tthis.labelNodes = new Set();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst width = window.innerWidth;\r\n\t\tconst height = window.innerHeight;\t\r\n\t\r\n\t\tconst svg = d3.select('#' + this.id)\r\n\t\t\t.attr('width', width)\r\n\t\t\t.attr('height', height);\r\n\t\t\r\n\t\tconst zoomContainer = svg.append('g');\r\n\t\t\r\n\t\tsvg.call(d3.zoom()\r\n\t\t\t.extent([[0, 0], [width, height]])\r\n\t\t\t.scaleExtent([0.25, 4])\r\n\t\t\t.on(\"zoom\", () => {\r\n\t\t\t\tzoomContainer.attr('transform', d3.event.transform);\r\n\t\t\t}) as any);\r\n\r\n\t\tthis.g = zoomContainer.append('g')\r\n\t\t\t.attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\r\n\r\n\t\tthis.link = this.g.append('g')\r\n\t\t\t.attr('stroke', '#000')\r\n\t\t\t.attr('stroke-width', 1.5)\r\n\t\t\t.selectAll('.link');\r\n\r\n\t\tthis.persistedLink = this.g.append('g')\r\n\t\t\t.attr('stroke', '#000')\r\n\t\t\t.attr('stroke-width', 1.5)\r\n\t\t\t.selectAll('.pLink');\r\n\r\n\t\tthis.node = this.g.append('g')\r\n\t\t\t.attr('stroke', '#fff')\r\n\t\t\t.attr('stroke-width', 1.5)\r\n\t\t\t.selectAll('.node');\r\n\r\n\t\tthis.label = this.g.append('g')\r\n\t\t\t.selectAll('.label');\r\n\r\n\t\tthis.g.append('defs').selectAll('marker')\r\n\t\t\t.data(['#000', '#aaa'])\r\n\t\t\t.enter().append('marker')\r\n\t\t\t\t.attr('id', (type: string) => type)\r\n\t\t\t\t.attr('viewBox', '0 -5 10 10')\r\n\t\t\t\t.attr('refX', 0)\r\n\t\t\t\t.attr('refY', 0)\r\n\t\t\t\t.attr('markerWidth', 6)\r\n\t\t\t\t.attr('markerHeight', 6)\r\n\t\t\t\t.attr('orient', 'auto')\r\n\t\t\t.append('path')\r\n\t\t\t\t.attr('d', 'M0,-5L10,0L0,5')\r\n\t\t\t\t.attr('fill', (type: string) => type);\r\n\r\n\t\tthis.simulation = d3.forceSimulation(this.nodes)\r\n\t\t\t.force('charge', d3.forceManyBody().strength(-1000))\r\n\t\t\t.force('link', d3.forceLink(this.edges).distance(200))\r\n\t\t\t.force('x', d3.forceX())\r\n\t\t\t.force('y', d3.forceY())\r\n\t\t\t.alphaTarget(1)\r\n\t\t\t.on('tick', this.tick.bind(this));\r\n\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<svg id={this.id}></svg>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate tick() {\r\n\t\tthis.node\r\n\t\t\t.attr('cx', (node: INode) => node.x)\r\n\t\t\t.attr('cy', (node: INode) => node.y);\r\n\t\tthis.link\r\n\t\t\t.attr('d', this.calculateCurvedPath)\r\n\t\t\t.attr('d', this.calculateArrowOffset);\r\n\t\tthis.persistedLink\r\n\t\t\t.attr('d', this.calculateCurvedPath)\r\n\t\t\t.attr('d', this.calculateArrowOffset);\r\n\t\tthis.label\r\n\t\t\t.attr('transform', (node: INode) => 'translate(' + node.x + ',' + node.y + ')');\r\n\t}\r\n\r\n\tprivate restart() {\r\n\t\tthis.labelNodes = this.getLabelNodes();\r\n\r\n\t\tthis.node = this.node.data(this.nodes, (node: INode) => node.name);\r\n\t\tthis.node.exit().remove();\r\n\t\tthis.node = this.node.enter().append('circle')\r\n\t\t\t.on('mouseover', this.onMouseOver.bind(this))\r\n\t\t\t.on('mouseout', this.onMouseOut.bind(this))\r\n\t\t\t.on('click', this.onClick.bind(this))\r\n\t\t\t.attr('id', (node: INode) => node.id)\r\n\t\t\t.attr('r', (node: INode) => node.size * 10)\r\n\t\t\t.attr('fill', '#fedcba')\r\n\t\t\t.call(this.drag(this.simulation))\r\n\t\t\t.merge(this.node);\r\n\t\t\r\n\t\tthis.link = this.link.data(this.edges, (d: IEdge) => d.source.name + '-' + d.target.name);\r\n\t\tthis.link.exit().remove();\r\n\t\tthis.link = this.link.enter().append('path')\r\n\t\t\t.attr('stroke', '#aaa')\r\n\t\t\t.attr('stroke-width', (edge: IEdge) => Math.sqrt(edge.weight) * 4)\r\n\t\t\t.attr('fill', 'none')\r\n\t\t\t.attr('marker-end', () => 'url(##aaa)')\r\n\t\t\t.merge(this.link);\r\n\r\n\t\tthis.persistedLink = this.persistedLink.data(this.persistedEdges, (d: IEdge) => d.source.name + '-' + d.target.name);\r\n\t\tthis.persistedLink.exit().remove();\r\n\t\tthis.persistedLink = this.persistedLink.enter().append('path')\r\n\t\t\t.attr('stroke', '#000')\r\n\t\t\t.attr('stroke-width', (edge: IEdge) => Math.sqrt(edge.weight) * 4)\r\n\t\t\t.attr('fill', 'none')\r\n\t\t\t.attr('marker-end', () => 'url(##000)')\r\n\t\t\t.merge(this.persistedLink);\r\n\r\n\t\tthis.label = this.label.data(Array.from(this.labelNodes), (node: INode) => node.id);\r\n\t\tthis.label.exit().remove();\r\n\t\tthis.label = this.label.enter().append('text')\r\n\t\t\t.attr('x', (node: INode) => -1 * node.name.length / 4 + 1 + 'em')\r\n\t\t\t.attr('y', (node: INode) => node.size * 10 + 20)\r\n\t\t\t.text((node: INode) => node.name)\r\n\t\t\t.merge(this.label);\r\n\r\n\t\tthis.simulation.nodes(this.nodes);\r\n\t\tthis.simulation.alpha(1).restart();\r\n\t}\r\n\r\n\tprivate onMouseOver(node: INode) {\r\n\t\tthis.g.select('#' + node.id).attr('stroke', '#aaa').attr('stroke-width', 4);\r\n\t\tthis.edges = this.graphData.getEdgesFrom(node);\r\n\t\tthis.hoveredNode = node;\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate onMouseOut(node: INode) {\r\n\t\tthis.g.select('#' + node.id).attr('stroke', null).attr('stroke-width', null);\r\n\t\tthis.edges = [];\r\n\t\tthis.hoveredNode = null;\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate onClick(node: INode) {\r\n\t\tconst index = this.persistedNodes.indexOf(node);\r\n\t\tconst edgesFromNode = this.graphData.getEdgesFrom(node);\r\n\t\tif (index < 0) {\r\n\t\t\tthis.persistedNodes.push(node);\r\n\t\t\tthis.persistedEdges.push(...edgesFromNode);\r\n\t\t} else {\r\n\t\t\tthis.persistedNodes.splice(index, 1);\r\n\t\t\tthis.persistedEdges = this.persistedEdges.filter((edge) => edgesFromNode.indexOf(edge) < 0);\r\n\t\t}\r\n\t\t\r\n\t\tthis.restart();\r\n\t}\r\n\r\n\tprivate drag(simulation: any): any {\r\n\t\tconst onDragStart = (node: any) => {\r\n\t\t\tif (!d3.event.active) {\r\n\t\t\t\tsimulation.alphaTarget(0.3).restart();\r\n\t\t\t}\r\n\t\t\tnode.fx = node.x;\r\n\t\t\tnode.fy = node.y;\r\n\t\t}\r\n\r\n\t\tconst onDrag = (node: any) => {\r\n\t\t\tnode.fx = d3.event.x;\r\n\t\t\tnode.fy = d3.event.y;\r\n\t\t}\r\n\r\n\t\tconst onDragEnd = (node: any) => {\r\n\t\t\tif (!d3.event.active) simulation.alphaTarget(0);\r\n\t\t\tnode.fx = null;\r\n\t\t\tnode.fy = null;\r\n\t\t}\r\n\r\n\t\treturn d3.drag()\r\n\t\t\t.on('start', onDragStart)\r\n\t\t\t.on('drag', onDrag)\r\n\t\t\t.on('end', onDragEnd);\r\n\t};\r\n\r\n\tprivate calculateCurvedPath(edge: IEdge): string {\r\n\t\tconst dx = edge.target.x - edge.source.x;\r\n\t\tconst dy = edge.target.y - edge.source.y;\r\n\t\tconst dr = Math.sqrt(dx * dx + dy * dy);\r\n\t\treturn 'M' + edge.source.x + ',' + edge.source.y + 'A' + dr + ',' + dr + ' 0 0,1 ' + edge.target.x + ',' + edge.target.y;\r\n\t}\r\n\r\n\tprivate calculateArrowOffset(this: any, edge: IEdge): string {\r\n\t\tconst pathLength = this.getTotalLength();\r\n\t\tconst markerLength = 5 * Math.sqrt(edge.weight * 10);\r\n\t\tconst markerSize = Math.sqrt(Math.pow(markerLength, 2) * 2);\r\n\t\tconst radius = (edge.target.size * 10) + markerSize;\r\n\r\n\t\tconst m = this.getPointAtLength(pathLength - radius);\r\n\t\tconst dx = m.x - edge.source.x;\r\n\t\tconst dy = m.y - edge.source.y;\r\n\t\tconst dr = Math.sqrt(dx * dx + dy * dy);\r\n\r\n\t\treturn 'M' + edge.source.x + ',' + edge.source.y + 'A' + dr + ',' + dr + ' 0 0,1 ' + m.x + ',' + m.y;\r\n\t}\r\n\r\n\tprivate getLabelNodes(): Set<INode> {\r\n\t\tconst labels: Set<INode> = new Set();\r\n\r\n\t\tif (this.hoveredNode !== null) {\r\n\t\t\tlabels.add(this.hoveredNode);\r\n\t\t}\r\n\r\n\t\t[...this.edges, ...this.persistedEdges].forEach((edge) => {\r\n\t\t\tlabels.add(edge.source);\r\n\t\t\tlabels.add(edge.target);\r\n\t\t});\r\n\r\n\t\treturn labels;\r\n\t}\r\n};\r\n\r\nexport default Visualization;\r\n","import React from 'react';\nimport Header from './components/Header/Header';\nimport HelpModal from './components/Modal/HelpModal';\nimport HelpModalContextProvider from './components/Modal/HelpModalContext';\nimport Footer from './components/Footer/Footer';\nimport Visualization from './components/Visualization/Visualization';\n\nconst App = () => {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<HelpModalContextProvider>\n\t\t\t\t<HelpModal />\n\t\t\t\t<Header />\n\t\t\t</HelpModalContextProvider>\n\t\t\t<Visualization />\n\t\t\t<Footer />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}